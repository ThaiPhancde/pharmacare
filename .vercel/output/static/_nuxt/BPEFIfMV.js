import{r as E,aA as C,e8 as L,by as Q,a1 as F,d as x,bV as N,a as m,az as ae,ea as Pe,b as R,o as _,w as H,p as k,u as w,aH as ie,bX as U,eb as Ce,U as ue,aC as Se,bZ as le,ec as Ae,ed as De,ee as xe,ef as ee,eg as ke,eh as Be,i as Fe,br as Le,e1 as ce,ad as _e,di as Te,ei as We,ej as $e,h as Ie,e as ze,v as Me,ek as Ne,el as Re,em as te,en as He,eo as Ue,ep as Ke,eq as je,er as Ve}from"./CKxg9VfS.js";import{h as de}from"./ChOKVcqp.js";import{g as D,i as qe,c as fe}from"./B1BtpM6Q.js";const Xe="dismissableLayer.pointerDownOutside",Ye="dismissableLayer.focusOutside";function pe(t,n){const e=n.closest("[data-dismissable-layer]"),o=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(e&&(o===e||s.indexOf(o)<s.indexOf(e)))}function Ge(t,n,e=!0){var d;const o=((d=n==null?void 0:n.value)==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=E(!1),l=E(()=>{});return C(f=>{if(!L||!Q(e))return;const c=async i=>{const r=i.target;if(!(!(n!=null&&n.value)||!r)){if(pe(n.value,r)){s.value=!1;return}if(i.target&&!s.value){let u=function(){de(Xe,t,h)};const h={originalEvent:i};i.pointerType==="touch"?(o.removeEventListener("click",l.value),l.value=u,o.addEventListener("click",l.value,{once:!0})):u()}else o.removeEventListener("click",l.value);s.value=!1}},y=window.setTimeout(()=>{o.addEventListener("pointerdown",c)},0);f(()=>{window.clearTimeout(y),o.removeEventListener("pointerdown",c),o.removeEventListener("click",l.value)})}),{onPointerDownCapture:()=>{Q(e)&&(s.value=!0)}}}function Ze(t,n){var s;const e=((s=n==null?void 0:n.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=E(!1);return C(l=>{if(!L)return;const d=async f=>{if(!(n!=null&&n.value))return;await F(),await F();const c=f.target;!n.value||!c||pe(n.value,c)||f.target&&!o.value&&de(Ye,t,{originalEvent:f})};e.addEventListener("focusin",d),l(()=>e.removeEventListener("focusin",d))}),{onFocusCapture:()=>o.value=!0,onBlurCapture:()=>o.value=!1}}const O=ae({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bt=x({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:n}){const e=t,o=n,{forwardRef:s,currentElement:l}=N(),d=m(()=>{var a;return((a=l.value)==null?void 0:a.ownerDocument)??globalThis.document}),f=m(()=>O.layersRoot),c=m(()=>l.value?Array.from(f.value).indexOf(l.value):-1),y=m(()=>O.layersWithOutsidePointerEventsDisabled.size>0),i=m(()=>{const a=Array.from(f.value),[p]=[...O.layersWithOutsidePointerEventsDisabled].slice(-1),v=a.indexOf(p);return c.value>=v}),r=Ge(async a=>{const p=[...O.branches].some(v=>v==null?void 0:v.contains(a.target));!i.value||p||(o("pointerDownOutside",a),o("interactOutside",a),await F(),a.defaultPrevented||o("dismiss"))},l),u=Ze(a=>{[...O.branches].some(v=>v==null?void 0:v.contains(a.target))||(o("focusOutside",a),o("interactOutside",a),a.defaultPrevented||o("dismiss"))},l);Pe("Escape",a=>{c.value===f.value.size-1&&(o("escapeKeyDown",a),a.defaultPrevented||o("dismiss"))});let h;return C(a=>{l.value&&(e.disableOutsidePointerEvents&&(O.layersWithOutsidePointerEventsDisabled.size===0&&(h=d.value.body.style.pointerEvents,d.value.body.style.pointerEvents="none"),O.layersWithOutsidePointerEventsDisabled.add(l.value)),f.value.add(l.value),a(()=>{e.disableOutsidePointerEvents&&O.layersWithOutsidePointerEventsDisabled.size===1&&(d.value.body.style.pointerEvents=h)}))}),C(a=>{a(()=>{l.value&&(f.value.delete(l.value),O.layersWithOutsidePointerEventsDisabled.delete(l.value))})}),(a,p)=>(_(),R(w(U),{ref:w(s),"as-child":a.asChild,as:a.as,"data-dismissable-layer":"",style:ie({pointerEvents:y.value?i.value?"auto":"none":void 0}),onFocusCapture:w(u).onFocusCapture,onBlurCapture:w(u).onBlurCapture,onPointerdownCapture:w(r).onPointerDownCapture},{default:H(()=>[k(a.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Je=Ce(()=>E([]));function Qe(){const t=Je();return{add(n){const e=t.value[0];n!==e&&(e==null||e.pause()),t.value=ne(t.value,n),t.value.unshift(n)},remove(n){var e;t.value=ne(t.value,n),(e=t.value[0])==null||e.resume()}}}function ne(t,n){const e=[...t],o=e.indexOf(n);return o!==-1&&e.splice(o,1),e}function et(t){return t.filter(n=>n.tagName!=="A")}const V="focusScope.autoFocusOnMount",q="focusScope.autoFocusOnUnmount",oe={bubbles:!1,cancelable:!0};function tt(t,{select:n=!1}={}){const e=D();for(const o of t)if(P(o,{select:n}),D()!==e)return!0}function nt(t){const n=ve(t),e=re(n,t),o=re(n.reverse(),t);return[e,o]}function ve(t){const n=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)n.push(e.currentNode);return n}function re(t,n){for(const e of t)if(!ot(e,{upTo:n}))return e}function ot(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rt(t){return t instanceof HTMLInputElement&&"select"in t}function P(t,{select:n=!1}={}){if(t&&t.focus){const e=D();t.focus({preventScroll:!0}),t!==e&&rt(t)&&n&&t.select()}}const Et=x({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:n}){const e=t,o=n,{currentRef:s,currentElement:l}=N(),d=E(null),f=Qe(),c=ae({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});C(i=>{if(!L)return;const r=l.value;if(!e.trapped)return;function u(v){if(c.paused||!r)return;const b=v.target;r.contains(b)?d.value=b:P(d.value,{select:!0})}function h(v){if(c.paused||!r)return;const b=v.relatedTarget;b!==null&&(r.contains(b)||P(d.value,{select:!0}))}function a(v){r.contains(d.value)||P(r)}document.addEventListener("focusin",u),document.addEventListener("focusout",h);const p=new MutationObserver(a);r&&p.observe(r,{childList:!0,subtree:!0}),i(()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",h),p.disconnect()})}),C(async i=>{const r=l.value;if(await F(),!r)return;f.add(c);const u=D();if(!r.contains(u)){const a=new CustomEvent(V,oe);r.addEventListener(V,p=>o("mountAutoFocus",p)),r.dispatchEvent(a),a.defaultPrevented||(tt(et(ve(r)),{select:!0}),D()===u&&P(r))}i(()=>{r.removeEventListener(V,v=>o("mountAutoFocus",v));const a=new CustomEvent(q,oe),p=v=>{o("unmountAutoFocus",v)};r.addEventListener(q,p),r.dispatchEvent(a),setTimeout(()=>{a.defaultPrevented||P(u??document.body,{select:!0}),r.removeEventListener(q,p),f.remove(c)},0)})});function y(i){if(!e.loop&&!e.trapped||c.paused)return;const r=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,u=D();if(r&&u){const h=i.currentTarget,[a,p]=nt(h);a&&p?!i.shiftKey&&u===p?(i.preventDefault(),e.loop&&P(a,{select:!0})):i.shiftKey&&u===a&&(i.preventDefault(),e.loop&&P(p,{select:!0})):u===h&&i.preventDefault()}}return(i,r)=>(_(),R(w(U),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":i.asChild,as:i.as,onKeydown:y},{default:H(()=>[k(i.$slots,"default")]),_:3},8,["as-child","as"]))}});var st=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},A=new WeakMap,z=new WeakMap,M={},X=0,ye=function(t){return t&&(t.host||ye(t.parentNode))},at=function(t,n){return n.map(function(e){if(t.contains(e))return e;var o=ye(e);return o&&t.contains(o)?o:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},it=function(t,n,e,o){var s=at(n,Array.isArray(t)?t:[t]);M[e]||(M[e]=new WeakMap);var l=M[e],d=[],f=new Set,c=new Set(s),y=function(r){!r||f.has(r)||(f.add(r),y(r.parentNode))};s.forEach(y);var i=function(r){!r||c.has(r)||Array.prototype.forEach.call(r.children,function(u){if(f.has(u))i(u);else try{var h=u.getAttribute(o),a=h!==null&&h!=="false",p=(A.get(u)||0)+1,v=(l.get(u)||0)+1;A.set(u,p),l.set(u,v),d.push(u),p===1&&a&&z.set(u,!0),v===1&&u.setAttribute(e,"true"),a||u.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",u,b)}})};return i(n),f.clear(),X++,function(){d.forEach(function(r){var u=A.get(r)-1,h=l.get(r)-1;A.set(r,u),l.set(r,h),u||(z.has(r)||r.removeAttribute(o),z.delete(r)),h||r.removeAttribute(e)}),X--,X||(A=new WeakMap,A=new WeakMap,z=new WeakMap,M={})}},ut=function(t,n,e){e===void 0&&(e="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),s=st(t);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live], script"))),it(o,s,e,"aria-hidden")):function(){return null}};function Ot(t){let n;ue(()=>le(t),e=>{e?n=ut(e):n&&n()}),Se(()=>{n&&n()})}const lt=Ae(()=>{const t=E(new Map),n=E(),e=m(()=>{for(const d of t.value.values())if(d)return!0;return!1}),o=qe({scrollBody:E(!0)});let s=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",ee&&(s==null||s()),n.value=void 0};return ue(e,(d,f)=>{var r;if(!L)return;if(!d){f&&l();return}n.value===void 0&&(n.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,y={padding:c,margin:0},i=(r=o.scrollBody)!=null&&r.value?typeof o.scrollBody.value=="object"?xe({padding:o.scrollBody.value.padding===!0?c:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?c:o.scrollBody.value.margin},y):y:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof i.padding=="number"?`${i.padding}px`:String(i.padding),document.body.style.marginRight=typeof i.margin=="number"?`${i.margin}px`:String(i.margin),document.documentElement.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),ee&&(s=ke(document,"touchmove",u=>ct(u),{passive:!1})),F(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Pt(t){const n=Math.random().toString(36).substring(2,7),e=lt();e.value.set(n,t??!1);const o=m({get:()=>e.value.get(n)??!1,set:s=>e.value.set(n,s)});return De(()=>{e.value.delete(n)}),o}function he(t){const n=window.getComputedStyle(t);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&t.clientWidth<t.scrollWidth||n.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const e=t.parentNode;return!(e instanceof Element)||e.tagName==="BODY"?!1:he(e)}}function ct(t){const n=t||window.event,e=n.target;return e instanceof Element&&he(e)?!1:n.touches.length>1?!0:(n.preventDefault&&n.cancelable&&n.preventDefault(),!1)}const Ct=x({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const n=Be();return(e,o)=>w(n)||e.forceMount?(_(),R(Le,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[k(e.$slots,"default")],8,["to","disabled","defer"])):Fe("",!0)}}),[me,dt]=fe("PopperRoot"),St=x({inheritAttrs:!1,__name:"PopperRoot",setup(t){const n=E();return dt({anchor:n,onAnchorChange:e=>n.value=e}),(e,o)=>k(e.$slots,"default")}}),At=x({__name:"PopperAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const n=t,{forwardRef:e,currentElement:o}=N(),s=me();return ce(()=>{s.onAnchorChange(n.reference??o.value)}),(l,d)=>(_(),R(w(U),{ref:w(e),as:l.as,"as-child":l.asChild},{default:H(()=>[k(l.$slots,"default")]),_:3},8,["as","as-child"]))}});function ft(t){return t!==null}function pt(t){return{name:"transformOrigin",options:t,fn(n){var v,b,B;const{placement:e,rects:o,middlewareData:s}=n,d=((v=s.arrow)==null?void 0:v.centerOffset)!==0,f=d?0:t.arrowWidth,c=d?0:t.arrowHeight,[y,i]=G(e),r={start:"0%",center:"50%",end:"100%"}[i],u=(((b=s.arrow)==null?void 0:b.x)??0)+f/2,h=(((B=s.arrow)==null?void 0:B.y)??0)+c/2;let a="",p="";return y==="bottom"?(a=d?r:`${u}px`,p=`${-c}px`):y==="top"?(a=d?r:`${u}px`,p=`${o.floating.height+c}px`):y==="right"?(a=`${-c}px`,p=d?r:`${h}px`):y==="left"&&(a=`${o.floating.width+c}px`,p=d?r:`${h}px`),{data:{x:a,y:p}}}}}function G(t){const[n,e="center"]=t.split("-");return[n,e]}function vt(t){const n=E(),e=m(()=>{var s;return((s=n.value)==null?void 0:s.width)??0}),o=m(()=>{var s;return((s=n.value)==null?void 0:s.height)??0});return _e(()=>{const s=le(t);if(s){n.value={width:s.offsetWidth,height:s.offsetHeight};const l=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const f=d[0];let c,y;if("borderBoxSize"in f){const i=f.borderBoxSize,r=Array.isArray(i)?i[0]:i;c=r.inlineSize,y=r.blockSize}else c=s.offsetWidth,y=s.offsetHeight;n.value={width:c,height:y}});return l.observe(s,{box:"border-box"}),()=>l.unobserve(s)}else n.value=void 0}),{width:e,height:o}}const yt={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Dt,ht]=fe("PopperContent"),xt=x({inheritAttrs:!1,__name:"PopperContent",props:Te({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...yt}),emits:["placed"],setup(t,{emit:n}){const e=t,o=n,s=me(),{forwardRef:l,currentElement:d}=N(),f=E(),c=E(),{width:y,height:i}=vt(c),r=m(()=>e.side+(e.align!=="center"?`-${e.align}`:"")),u=m(()=>typeof e.collisionPadding=="number"?e.collisionPadding:{top:0,right:0,bottom:0,left:0,...e.collisionPadding}),h=m(()=>Array.isArray(e.collisionBoundary)?e.collisionBoundary:[e.collisionBoundary]),a=m(()=>({padding:u.value,boundary:h.value.filter(ft),altBoundary:h.value.length>0})),p=We(()=>[Re({mainAxis:e.sideOffset+i.value,alignmentAxis:e.alignOffset}),e.prioritizePosition&&e.avoidCollisions&&te({...a.value}),e.avoidCollisions&&He({mainAxis:!0,crossAxis:!!e.prioritizePosition,limiter:e.sticky==="partial"?Ve():void 0,...a.value}),!e.prioritizePosition&&e.avoidCollisions&&te({...a.value}),Ue({...a.value,apply:({elements:g,rects:j,availableWidth:T,availableHeight:W})=>{const{width:$,height:Oe}=j.reference,I=g.floating.style;I.setProperty("--reka-popper-available-width",`${T}px`),I.setProperty("--reka-popper-available-height",`${W}px`),I.setProperty("--reka-popper-anchor-width",`${$}px`),I.setProperty("--reka-popper-anchor-height",`${Oe}px`)}}),c.value&&Ke({element:c.value,padding:e.arrowPadding}),pt({arrowWidth:y.value,arrowHeight:i.value}),e.hideWhenDetached&&je({strategy:"referenceHidden",...a.value})]),v=m(()=>e.reference??s.anchor.value),{floatingStyles:b,placement:B,isPositioned:K,middlewareData:S}=$e(v,f,{strategy:e.positionStrategy,placement:r,whileElementsMounted:(...g)=>Ne(...g,{layoutShift:!e.disableUpdateOnLayoutShift,animationFrame:e.updatePositionStrategy==="always"}),middleware:p}),Z=m(()=>G(B.value)[0]),ge=m(()=>G(B.value)[1]);ce(()=>{K.value&&o("placed")});const we=m(()=>{var g;return((g=S.value.arrow)==null?void 0:g.centerOffset)!==0}),J=E("");C(()=>{d.value&&(J.value=window.getComputedStyle(d.value).zIndex)});const be=m(()=>{var g;return((g=S.value.arrow)==null?void 0:g.x)??0}),Ee=m(()=>{var g;return((g=S.value.arrow)==null?void 0:g.y)??0});return ht({placedSide:Z,onArrowChange:g=>c.value=g,arrowX:be,arrowY:Ee,shouldHideArrow:we}),(g,j)=>{var T,W,$;return _(),Ie("div",{ref_key:"floatingRef",ref:f,"data-reka-popper-content-wrapper":"",style:ie({...w(b),transform:w(K)?w(b).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J.value,"--reka-popper-transform-origin":[(T=w(S).transformOrigin)==null?void 0:T.x,(W=w(S).transformOrigin)==null?void 0:W.y].join(" "),...(($=w(S).hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[ze(w(U),Me({ref:w(l)},g.$attrs,{"as-child":e.asChild,as:g.as,"data-side":Z.value,"data-align":ge.value,style:{animation:w(K)?void 0:"none"}}),{default:H(()=>[k(g.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});let Y=0;function kt(){C(t=>{if(!L)return;const n=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",n[0]??se()),document.body.insertAdjacentElement("beforeend",n[1]??se()),Y++,t(()=>{Y===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(e=>e.remove()),Y--})})}function se(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}export{St as _,xt as a,Pt as b,Ot as c,Et as d,bt as e,Ct as f,At as g,kt as u};
