import{h as o,o as s,g as t,i as b,t as a,aI as j,r as f,a as N,ad as A,e as u,F as y,b as g,j as S,w as c,aU as C,k as F}from"./CKxg9VfS.js";import{_ as R}from"./CMIqKt_m.js";import{B as V}from"./CkclNe_0.js";import{_ as $}from"./C_IQnCrB.js";import{_ as q}from"./Bt2YpT3E.js";import"./DDBjNozI.js";import"./mUUuLyVv.js";import"./CbhVS3Xc.js";import"./Be7d-GBD.js";import"./Be3VPoHw.js";import"./HiGXOwLp.js";const Q={class:"mb-6"},T={class:"text-2xl font-semibold text-foreground"},E={key:0,class:"text-sm text-muted-foreground mt-1"},I={__name:"PageHeader",props:{title:{type:String,required:!0},subtitle:{type:String,default:""}},setup(r){return(m,i)=>(s(),o("div",Q,[t("h1",T,a(r.title),1),r.subtitle?(s(),o("p",E,a(r.subtitle),1)):b("",!0)]))}},P={class:"w-full flex items-center justify-center"},z={class:"grid grid-cols-1 gap-6 mt-4"},D={key:0,class:"flex justify-center items-center py-8"},H={class:"text-xl font-bold text-primary"},L={class:"flex flex-col items-center space-y-4"},M={key:0,class:"border border-gray-200 p-4 rounded-lg"},U=["src"],G={key:1,class:"text-center p-8 bg-gray-100 rounded-lg w-64 h-64 flex items-center justify-center"},J={class:"w-full space-y-2"},K={class:"flex justify-between items-center py-2 border-b"},O={class:"font-semibold"},W={class:"flex justify-between items-center py-2 border-b"},X={class:"font-semibold"},Y={class:"flex justify-between items-center py-2 border-b"},Z={class:"font-semibold"},ut={__name:"payment",setup(r){const m=C(),i=j(),_=f([]),l=f(!1),p=N(()=>_.value),h=async()=>{l.value=!0;try{const e=await(await fetch("/api/bank?active=true")).json();e.status?_.value=e.data||[]:i.error(e.message||"Failed to fetch bank accounts")}catch(d){console.error("Error fetching bank accounts:",d),i.error("Failed to load bank information")}finally{l.value=!1}},x=()=>{m.push("/bank")};return A(()=>{h()}),(d,e)=>{const v=$,k=q,w=V,B=R;return s(),o("div",P,[t("div",z,[u(I,{class:"col-span-3",title:"Payment Information",subtitle:"Scan QR code to make payment"}),l.value?(s(),o("div",D,[u(v,{size:"large"})])):(s(),o(y,{key:1},[(s(!0),o(y,null,S(p.value,n=>(s(),g(k,{key:n._id,class:"shadow-md hover:shadow-lg transition-shadow"},{header:c(()=>[t("div",H,a(n.bank_name),1)]),default:c(()=>[t("div",L,[n.qr_image?(s(),o("div",M,[t("img",{src:n.qr_image,alt:"QR Code",class:"w-64 h-64 object-contain"},null,8,U)])):(s(),o("div",G,e[0]||(e[0]=[t("span",{class:"text-gray-500"},"No QR code available",-1)]))),t("div",J,[t("div",K,[e[1]||(e[1]=t("span",{class:"text-gray-600 font-medium"},"Account Name:",-1)),t("span",O,a(n.account_name),1)]),t("div",W,[e[2]||(e[2]=t("span",{class:"text-gray-600 font-medium"},"Account Number:",-1)),t("span",X,a(n.account_number),1)]),t("div",Y,[e[3]||(e[3]=t("span",{class:"text-gray-600 font-medium"},"Branch:",-1)),t("span",Z,a(n.branch||"N/A"),1)])])])]),_:2},1024))),128)),p.value.length===0?(s(),g(B,{key:0,description:"No payment methods available"},{extra:c(()=>[u(w,{onClick:x},{default:c(()=>e[4]||(e[4]=[F("Add Bank Account")])),_:1,__:[4]})]),_:1})):b("",!0)],64))])])}}};export{ut as default};
