import{a as E,_ as J,b as O,c as G,d as Q,e as W,f as X,g as Y}from"./DZHg-zPW.js";import{d as T,a as R,h as b,g as $,t as S,e,w as t,y as U,o,F,j as V,_ as B,k as z,b as w,i as H,J as N,K as P,r as I,U as Z,u as C,aS as ee}from"./CKxg9VfS.js";import{_ as te,u as ne,g as ae,a as oe,b as le,d as se,e as ie,F as j}from"./CtxRJYhM.js";import{_ as re}from"./8F3V6at2.js";import{_ as ue,a as ce,b as de,c as me}from"./Bk27txv5.js";import{_ as pe}from"./DWe5xPtV.js";import{_ as _e,a as fe,b as ge}from"./DxI7QMRn.js";const ve={class:"flex items-center justify-between px-2"},we={class:"flex-1 text-sm text-muted-foreground"},be={class:"flex items-center space-x-6 lg:space-x-8"},xe={class:"flex items-center space-x-2"},he={class:"w-[100px] flex items-center justify-center text-sm font-medium"},$e={class:"flex items-center space-x-2"},ye=T({__name:"Pagination",props:{table:{},total:{}},emits:["update:page","update:size"],setup(p,{emit:_}){const d=p,s=_,n=R(()=>d.table.getState().pagination.pageIndex),i=R(()=>d.table.getState().pagination.pageSize),f=R(()=>Math.ceil(d.total/i.value)),m=l=>{l>=0&&l<f.value&&s("update:page",l+1)};return(l,a)=>{const g=ce,k=ue,x=me,c=de,y=re,r=B,M=U;return o(),b("div",ve,[$("div",we,S(l.table.getFilteredSelectedRowModel().rows.length)+" of "+S(l.table.getFilteredRowModel().rows.length)+" row(s) selected. ",1),$("div",be,[$("div",xe,[a[5]||(a[5]=$("p",{class:"text-sm font-medium"},"Rows per page",-1)),e(y,{"model-value":`${i.value}`,"onUpdate:modelValue":a[0]||(a[0]=u=>s("update:size",Number(u)))},{default:t(()=>[e(k,{class:"h-8 w-[70px]"},{default:t(()=>[e(g,{placeholder:`${i.value}`},null,8,["placeholder"])]),_:1}),e(c,{side:"top"},{default:t(()=>[(o(),b(F,null,V([10,20,30,40,50],u=>e(x,{key:u,value:`${u}`},{default:t(()=>[z(S(u),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"])]),$("div",he," Page "+S(n.value+1)+" of "+S(f.value),1),$("div",$e,[e(M,{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",onClick:a[1]||(a[1]=u=>m(0))},{default:t(()=>[e(r,{name:"i-radix-icons-double-arrow-left",class:"h-4 w-4"})]),_:1}),e(M,{variant:"outline",class:"h-8 w-8 p-0",onClick:a[2]||(a[2]=u=>m(n.value-1))},{default:t(()=>[e(r,{name:"i-radix-icons-chevron-left",class:"h-4 w-4"})]),_:1}),e(M,{variant:"outline",class:"h-8 w-8 p-0",onClick:a[3]||(a[3]=u=>m(n.value+1))},{default:t(()=>[e(r,{name:"i-radix-icons-chevron-right",class:"h-4 w-4"})]),_:1}),e(M,{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",onClick:a[4]||(a[4]=u=>m(f.value-1))},{default:t(()=>[e(r,{name:"i-radix-icons-double-arrow-right",class:"h-4 w-4"})]),_:1})])])])}}}),Ce=T({__name:"ViewOptions",props:{table:{}},setup(p){const _=p,d=R(()=>_.table.getAllColumns().filter(s=>typeof s.accessorFn<"u"&&s.getCanHide()));return(s,n)=>{const i=B,f=U,m=fe,l=E,a=J,g=te,k=ge,x=_e;return o(),w(x,null,{default:t(()=>[e(m,{"as-child":""},{default:t(()=>[e(f,{variant:"outline",size:"sm",class:"ml-auto hidden h-8 lg:flex"},{default:t(()=>[e(i,{name:"i-radix-icons-mixer-horizontal",class:"mr-2 h-4 w-4"}),n[0]||(n[0]=z(" View "))]),_:1,__:[0]})]),_:1}),e(k,{align:"end",class:"w-[150px]"},{default:t(()=>[e(l,null,{default:t(()=>n[1]||(n[1]=[z("Toggle columns")])),_:1,__:[1]}),e(a),(o(!0),b(F,null,V(d.value,c=>(o(),w(g,{key:c.id,class:"capitalize",checked:c.getIsVisible(),"onUpdate:checked":y=>c.toggleVisibility(!!y)},{default:t(()=>[z(S(c.id),1)]),_:2},1032,["checked","onUpdate:checked"]))),128))]),_:1})]),_:1})}}}),ke={class:"flex items-center justify-between"},Me={class:"flex flex-1 items-center space-x-2"},Se=T({__name:"Toolbar",props:{table:{},filterKey:{},placeholder:{}},setup(p){const _=p,d=R(()=>_.table.getState().columnFilters.length>0);return(s,n)=>{var l;const i=pe,f=B,m=U;return o(),b("div",ke,[$("div",Me,[e(i,{placeholder:_.placeholder,"model-value":((l=s.table.getColumn(_.filterKey))==null?void 0:l.getFilterValue())??"",class:"h-8 w-[150px] lg:w-[250px]",onInput:n[0]||(n[0]=a=>{var g;return(g=s.table.getColumn(_.filterKey))==null?void 0:g.setFilterValue(a.target.value)})},null,8,["placeholder","model-value"]),d.value?(o(),w(m,{key:0,variant:"ghost",class:"h-8 px-2 lg:px-3",onClick:n[1]||(n[1]=a=>s.table.resetColumnFilters())},{default:t(()=>[n[2]||(n[2]=z(" Reset ")),e(f,{name:"i-radix-icons-cross-2",class:"ml-2 h-4 w-4"})]),_:1,__:[2]})):H("",!0)]),e(Ce,{table:s.table},null,8,["table"])])}}}),Fe={class:"space-y-4 w-full"},Ve={class:"border rounded-md"},Be=T({__name:"index",props:N({columns:{},data:{},filterKey:{default:"name"}},{page:{default:1},pageModifiers:{},size:{default:10},sizeModifiers:{},total:{default:0},totalModifiers:{}}),emits:N(["changePage"],["update:page","update:size","update:total"]),setup(p,{emit:_}){const d=p,s=_,n=P(p,"page"),i=P(p,"size"),f=P(p,"total"),m=R(()=>Math.ceil(f.value/i.value)),l=I([]),a=I([]),g=I({}),k=I({});Z([n,i],()=>{s("changePage",n.value,i.value)});const x=y=>r=>ee(r,y),c=ne({get data(){return d.data},get columns(){return d.columns},state:{get sorting(){return l.value},get columnFilters(){return a.value},get columnVisibility(){return g.value},get rowSelection(){return k.value},get pagination(){return{pageIndex:n.value-1,pageSize:i.value,totalPages:m.value}}},pageCount:m.value,enableRowSelection:!0,onSortingChange:x(l),onColumnFiltersChange:x(a),onColumnVisibilityChange:x(g),onRowSelectionChange:x(k),getCoreRowModel:ie(),getFilteredRowModel:se(),getSortedRowModel:le(),getFacetedRowModel:oe(),getFacetedUniqueValues:ae()});return(y,r)=>{const M=Y,u=X,q=G,K=W,L=Q,A=O;return o(),b("div",Fe,[e(Se,{table:C(c),filterKey:y.filterKey,placeholder:"Search ..."},null,8,["table","filterKey"]),$("div",Ve,[e(A,null,{default:t(()=>[e(q,null,{default:t(()=>[(o(!0),b(F,null,V(C(c).getHeaderGroups(),v=>(o(),w(u,{key:v.id},{default:t(()=>[(o(!0),b(F,null,V(v.headers,h=>(o(),w(M,{key:h.id},{default:t(()=>[h.isPlaceholder?H("",!0):(o(),w(C(j),{key:0,render:h.column.columnDef.header,props:h.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),e(L,null,{default:t(()=>{var v;return[(v=C(c).getRowModel().rows)!=null&&v.length?(o(!0),b(F,{key:0},V(C(c).getRowModel().rows,h=>(o(),w(u,{key:h.id,"data-state":h.getIsSelected()&&"selected"},{default:t(()=>[(o(!0),b(F,null,V(h.getVisibleCells(),D=>(o(),w(K,{key:D.id},{default:t(()=>[e(C(j),{render:D.column.columnDef.cell,props:D.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(o(),w(u,{key:1},{default:t(()=>[e(K,{colspan:d.columns.length,class:"h-24 text-center"},{default:t(()=>r[2]||(r[2]=[z(" No results. ")])),_:1,__:[2]},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),e(ye,{table:C(c),total:f.value,"onUpdate:page":r[0]||(r[0]=v=>n.value=v),"onUpdate:size":r[1]||(r[1]=v=>{i.value=v,n.value=1})},null,8,["table","total"])])}}});export{Be as _};
