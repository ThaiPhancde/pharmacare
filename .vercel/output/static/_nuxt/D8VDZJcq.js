import{_ as k}from"./DJCHEhbm.js";import{_ as N}from"./DKFqWrsj.js";import{_ as B,a as S,b as T}from"./DOcEOmyP.js";import{_ as I,a as A}from"./WQkBRSY7.js";import{d as b,r as g,aY as y,aI as D,h as C,o as x,F,g as a,e as o,A as P,w as s,k as n,u as r,X as w,y as h,b as E,i as U,aZ as j}from"./CKxg9VfS.js";import{_ as z}from"./DWe5xPtV.js";import{_ as H}from"./f1YS2rLi.js";import{a as J}from"./Bjtksisr.js";import{L as O}from"./CD4osVtT.js";const R={class:"grid gap-2"},W={class:"grid gap-2"},X={class:"flex items-center"},Y={class:"mt-4 text-center text-sm text-muted-foreground"},Z=b({__name:"SignIn",setup($){const i=g("admin@pharmacare.com"),t=g("admin123"),l=g(!1),_=y("userAuth"),c=y("userInfo"),{toast:u}=D(),f=async d=>{if(d.preventDefault(),!(!i.value||!t.value)){l.value=!0;try{const e=await J.post("/api/auth/login",{email:i.value,password:t.value});if(e.data){const m=e.data;_.value=m.token,c.value=JSON.stringify(m.user),u({title:"Login success"}),j("/")}}catch(e){u({title:e.message||"Login failed. Try again later",variant:"destructive"})}finally{l.value=!1}}};return(d,e)=>{const m=P,L=z,v=k,V=h;return x(),C(F,null,[a("form",{class:"grid gap-6",onSubmit:f},[a("div",R,[o(m,{for:"email"},{default:s(()=>e[2]||(e[2]=[n(" Email ")])),_:1,__:[2]}),o(L,{id:"email",modelValue:r(i),"onUpdate:modelValue":e[0]||(e[0]=p=>w(i)?i.value=p:null),placeholder:"name@example.com",disabled:r(l),"auto-capitalize":"none","auto-complete":"email","auto-correct":"off"},null,8,["modelValue","disabled"])]),a("div",W,[a("div",X,[o(m,{for:"password"},{default:s(()=>e[3]||(e[3]=[n(" Password ")])),_:1,__:[3]}),o(v,{to:"/forgot-password",class:"ml-auto inline-block text-sm underline"},{default:s(()=>e[4]||(e[4]=[n(" Forgot your password? ")])),_:1,__:[4]})]),o(H,{id:"password",modelValue:r(t),"onUpdate:modelValue":e[1]||(e[1]=p=>w(t)?t.value=p:null)},null,8,["modelValue"])]),o(V,{type:"submit",class:"w-full",disabled:r(l)},{default:s(()=>[r(l)?(x(),E(r(O),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):U("",!0),e[5]||(e[5]=n(" Login "))]),_:1,__:[5]},8,["disabled"])],32),a("div",Y,[e[7]||(e[7]=n(" Don't have an account? ")),o(v,{to:"/register",class:"underline"},{default:s(()=>e[6]||(e[6]=[n(" Sign up ")])),_:1,__:[6]})])],64)}}}),q={class:"flex flex-col items-center justify-center gap-6 bg-muted p-6 min-h-svh md:p-10"},G={class:"max-w-sm w-full flex flex-col gap-6"},K={class:"flex flex-col gap-6"},ie=b({__name:"login",setup($){return(i,t)=>{const l=k,_=S,c=A,u=B,f=Z,d=T,e=N;return x(),C("div",q,[a("div",G,[o(l,{to:"#",class:"flex items-center self-center gap-2 font-medium"},{default:s(()=>t[0]||(t[0]=[a("img",{src:I,alt:"logo"},null,-1)])),_:1,__:[0]}),a("div",K,[o(e,null,{default:s(()=>[o(u,{class:"text-center"},{default:s(()=>[o(_,{class:"text-xl"},{default:s(()=>t[1]||(t[1]=[n(" Welcome back ")])),_:1,__:[1]}),o(c,null,{default:s(()=>t[2]||(t[2]=[n(" Login with your account ")])),_:1,__:[2]})]),_:1}),o(d,null,{default:s(()=>[o(f)]),_:1})]),_:1}),t[3]||(t[3]=a("div",{class:"text-center text-balance text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 [&_a]:hover:text-primary"},[n(" By clicking continue, you agree to our "),a("a",{href:"#"},"Terms of Service"),n(" and "),a("a",{href:"#"},"Privacy Policy"),n(". ")],-1))])])])}}});export{ie as default};
