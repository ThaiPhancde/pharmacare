import{a as qe,f as ve,g as Ve,_ as R,d as T,h as ge,F as L,b as M,c as U,i as Ee,j as De,e as Re,t as je}from"./BCSPHuIH.js";import{u as Te,c as ee,d as he,P as Pe,a as Ze,b as He}from"./B1BtpM6Q.js";import{a as $,bT as _e,bS as ue,d as C,ay as oe,bV as P,b as v,o as f,w as d,p as y,u as e,bX as X,b1 as Le,r as O,U as ye,ad as Me,eg as Ue,e as c,v as I,i as B,a1 as ze,l as w,m as k,g as G,n as $e,f as ae,h as q,k as N,t as S,F as K,j as Q,y as W,z as Ke,aD as Ce,aR as te,at as Qe,av as Xe,A as Ge}from"./CKxg9VfS.js";import{i as Je,_ as We}from"./fc2ftCRW.js";import{C as Ye}from"./-VWu3lWq.js";import{T as Ae}from"./HXfFxbHn.js";import{P as xe}from"./CdaYbVMG.js";import{Z as ea,c as aa}from"./FxXfjA_C.js";import{_ as ta}from"./mqphGkif.js";import{_ as na}from"./C6uedsDB.js";import{_ as oa,a as la,b as sa}from"./DP3_pcoO.js";import{C as ia}from"./BWQRRhWv.js";import{_ as ra,a as da}from"./CNC5rzjO.js";import{_ as ua}from"./8F3V6at2.js";import{_ as ca,a as fa,b as pa,c as ma}from"./Bk27txv5.js";import{_ as le}from"./DWe5xPtV.js";import{_ as ba}from"./BLmtRsFP.js";function va({type:n,defaultValue:t,modelValue:o}){const a=o||t;return o!==void 0||t!==void 0?Array.isArray(a)?"multiple":"single":n??"single"}function ga({type:n,defaultValue:t,modelValue:o}){return n||va({type:n,defaultValue:t,modelValue:o})}function ha({type:n,defaultValue:t}){return t!==void 0?t:n==="single"?void 0:[]}function _a(n,t){const o=$(()=>ga(n)),a=_e(n,"modelValue",t,{defaultValue:ha(n),passive:n.modelValue===void 0,deep:!0});function l(s){if(o.value==="single")a.value=ue(s,a.value)?void 0:s;else{const u=Array.isArray(a.value)?[...a.value||[]]:[a.value].filter(Boolean);if(Je(u,s)){const r=u.findIndex(h=>ue(h,s));u.splice(r,1)}else u.push(s);a.value=u}}const i=$(()=>o.value==="single");return{modelValue:a,changeModelValue:l,isSingle:i}}const[ne,ya]=ee("AccordionRoot"),$a=C({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){const o=n,a=t,{dir:l,disabled:i,unmountOnHide:s}=oe(o),u=Te(l),{modelValue:r,changeModelValue:h,isSingle:m}=_a(o,a),{forwardRef:b,currentElement:_}=P();return ya({disabled:i,direction:u,orientation:o.orientation,parentElement:_,isSingle:m,collapsible:o.collapsible,modelValue:r,changeModelValue:h,unmountOnHide:s}),(g,p)=>(f(),v(e(X),{ref:e(b),"as-child":g.asChild,as:g.as},{default:d(()=>[y(g.$slots,"default",{modelValue:e(r)})]),_:3},8,["as-child","as"]))}}),[Fe,Ca]=ee("CollapsibleRoot"),Aa=C({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(n,{expose:t,emit:o}){const a=n,i=_e(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0}),{disabled:s,unmountOnHide:u}=oe(a);return Ca({contentId:"",disabled:s,open:i,unmountOnHide:u,onOpenToggle:()=>{s.value||(i.value=!i.value)}}),t({open:i}),P(),(r,h)=>(f(),v(e(X),{as:r.as,"as-child":a.asChild,"data-state":e(i)?"open":"closed","data-disabled":e(s)?"":void 0},{default:d(()=>[y(r.$slots,"default",{open:e(i)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),Fa=["INPUT","TEXTAREA"];function Na(n,t,o,a={}){if(!t||a.enableIgnoredElement&&Fa.includes(t.nodeName))return null;const{arrowKeyOptions:l="both",attributeName:i="[data-reka-collection-item]",itemsArray:s=[],loop:u=!0,dir:r="ltr",preventScroll:h=!0,focus:m=!1}=a,[b,_,g,p,A,F]=[n.key==="ArrowRight",n.key==="ArrowLeft",n.key==="ArrowUp",n.key==="ArrowDown",n.key==="Home",n.key==="End"],E=g||p,J=b||_;if(!A&&!F&&(!E&&!J||l==="vertical"&&J||l==="horizontal"&&E))return null;const Z=o?Array.from(o.querySelectorAll(i)):s;if(!Z.length)return null;h&&n.preventDefault();let D=null;return J||E?D=Ne(Z,t,{goForward:E?p:r==="ltr"?b:_,loop:u}):A?D=Z.at(0)||null:F&&(D=Z.at(-1)||null),m&&(D==null||D.focus()),D}function Ne(n,t,o,a=n.length){if(--a===0)return null;const l=n.indexOf(t),i=o.goForward?l+1:l-1;if(!o.loop&&(i<0||i>=n.length))return null;const s=(i+n.length)%n.length,u=n[s];return u?u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"?Ne(n,u,o,a):u:null}const[se,Sa]=ee("AccordionItem"),Ba=C({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n,{expose:t}){const o=n,a=ne(),l=$(()=>a.isSingle.value?o.value===a.modelValue.value:Array.isArray(a.modelValue.value)&&a.modelValue.value.includes(o.value)),i=$(()=>a.disabled.value||o.disabled),s=$(()=>i.value?"":void 0),u=$(()=>l.value?"open":"closed");t({open:l,dataDisabled:s});const{currentRef:r,currentElement:h}=P();Sa({open:l,dataState:u,disabled:i,dataDisabled:s,triggerId:"",currentRef:r,currentElement:h,value:$(()=>o.value)});function m(b){var A;const _=b.target;if(Array.from(((A=a.parentElement.value)==null?void 0:A.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(F=>F===_)===-1)return null;Na(b,h.value,a.parentElement.value,{arrowKeyOptions:a.orientation,dir:a.direction.value,focus:!0})}return(b,_)=>(f(),v(e(Aa),{"data-orientation":e(a).orientation,"data-disabled":s.value,"data-state":u.value,disabled:i.value,open:l.value,as:o.as,"as-child":o.asChild,"unmount-on-hide":e(a).unmountOnHide.value,onKeydown:Le(m,["up","down","left","right","home","end"])},{default:d(()=>[y(b.$slots,"default",{open:l.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),wa=C({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(n,{emit:t}){const o=n,a=t,l=Fe();l.contentId||(l.contentId=he(void 0,"reka-collapsible-content"));const i=O(),{forwardRef:s,currentElement:u}=P(),r=O(0),h=O(0),m=$(()=>l.open.value),b=O(m.value),_=O();ye(()=>{var p;return[m.value,(p=i.value)==null?void 0:p.present]},async()=>{await ze();const p=u.value;if(!p)return;_.value=_.value||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const A=p.getBoundingClientRect();h.value=A.height,r.value=A.width,b.value||(p.style.transitionDuration=_.value.transitionDuration,p.style.animationName=_.value.animationName)},{immediate:!0});const g=$(()=>b.value&&l.open.value);return Me(()=>{requestAnimationFrame(()=>{b.value=!1})}),Ue(u,"beforematch",p=>{requestAnimationFrame(()=>{l.onOpenToggle(),a("contentFound")})}),(p,A)=>(f(),v(e(Pe),{ref_key:"presentRef",ref:i,present:p.forceMount||e(l).open.value,"force-mount":!0},{default:d(({present:F})=>{var E;return[c(e(X),I(p.$attrs,{id:e(l).contentId,ref:e(s),"as-child":o.asChild,as:p.as,hidden:F?void 0:e(l).unmountOnHide.value?"":"until-found","data-state":g.value?void 0:e(l).open.value?"open":"closed","data-disabled":(E=e(l).disabled)!=null&&E.value?"":void 0,style:{"--reka-collapsible-content-height":`${h.value}px`,"--reka-collapsible-content-width":`${r.value}px`}}),{default:d(()=>[!e(l).unmountOnHide.value||F?y(p.$slots,"default",{key:0}):B("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),ka=C({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const t=n,o=ne(),a=se();return P(),(l,i)=>(f(),v(e(wa),{role:"region","as-child":t.asChild,as:l.as,"force-mount":t.forceMount,"aria-labelledby":e(a).triggerId,"data-state":e(a).dataState.value,"data-disabled":e(a).dataDisabled.value,"data-orientation":e(o).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:i[0]||(i[0]=s=>e(o).changeModelValue(e(a).value.value))},{default:d(()=>[y(l.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),Ia=C({__name:"AccordionHeader",props:{asChild:{type:Boolean},as:{default:"h3"}},setup(n){const t=n,o=ne(),a=se();return P(),(l,i)=>(f(),v(e(X),{as:t.as,"as-child":t.asChild,"data-orientation":e(o).orientation,"data-state":e(a).dataState.value,"data-disabled":e(a).dataDisabled.value},{default:d(()=>[y(l.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),Oa=C({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const t=n;P();const o=Fe();return(a,l)=>{var i,s;return f(),v(e(X),{type:a.as==="button"?"button":void 0,as:a.as,"as-child":t.asChild,"aria-controls":e(o).contentId,"aria-expanded":e(o).open.value,"data-state":e(o).open.value?"open":"closed","data-disabled":(i=e(o).disabled)!=null&&i.value?"":void 0,disabled:(s=e(o).disabled)==null?void 0:s.value,onClick:e(o).onOpenToggle},{default:d(()=>[y(a.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),qa=C({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const t=n,o=ne(),a=se();a.triggerId||(a.triggerId=he(void 0,"reka-accordion-trigger"));function l(){const i=o.isSingle.value&&a.open.value&&!o.collapsible;a.disabled.value||i||o.changeModelValue(a.value.value)}return(i,s)=>(f(),v(e(Oa),{id:e(a).triggerId,ref:e(a).currentRef,"data-reka-collection-item":"",as:t.as,"as-child":t.asChild,"aria-disabled":e(a).disabled.value||void 0,"aria-expanded":e(a).open.value||!1,"data-disabled":e(a).dataDisabled.value,"data-orientation":e(o).orientation,"data-state":e(a).dataState.value,disabled:e(a).disabled.value,onClick:l},{default:d(()=>[y(i.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),Se=C({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){const l=Ze(n,t);return(i,s)=>(f(),v(e($a),w(k(e(l))),{default:d(()=>[y(i.$slots,"default")]),_:3},16))}}),Be=C({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(n){const t=n,o=$(()=>{const{class:a,...l}=t;return l});return(a,l)=>(f(),v(e(ka),I(o.value,{class:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"}),{default:d(()=>[G("div",{class:$e(e(ae)("pb-4 pt-0",t.class))},[y(a.$slots,"default")],2)]),_:3},16))}}),we=C({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(n){const t=n,o=$(()=>{const{class:l,...i}=t;return i}),a=He(o);return(l,i)=>(f(),v(e(Ba),I(e(a),{class:e(ae)("border-b",t.class)}),{default:d(()=>[y(l.$slots,"default")]),_:3},16,["class"]))}}),ke=C({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(n){const t=n,o=$(()=>{const{class:a,...l}=t;return l});return(a,l)=>(f(),v(e(Ia),{class:"flex"},{default:d(()=>[c(e(qa),I(o.value,{class:e(ae)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t.class)}),{default:d(()=>[y(a.$slots,"default"),y(a.$slots,"icon",{},()=>[c(e(Ye),{class:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}}),Va={key:0,class:"text-destructive"},j=C({__name:"AutoFormLabel",props:{required:{type:Boolean}},setup(n){return(t,o)=>(f(),v(e(qe),null,{default:d(()=>[y(t.$slots,"default"),t.required?(f(),q("span",Va," *")):B("",!0)]),_:3}))}});function V(n){return console.log("🚀 ~ beautifyObjectName ~ str:",n),n.replace(/\[\d+\]/g,"").replace(/([A-Z])/g," $1").replace(/[_\-.]+/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,t=>t.toUpperCase())}function Ea(n){const t=/\[(\d+)\]/,o=n.match(t);return o?Number.parseInt(o[1]):void 0}function H(n){return n?"innerType"in n._def?H(n._def.innerType):"schema"in n._def?H(n._def.schema):n:null}function ie(n){const t=H(n);return t?t._def.typeName:""}function Y(n){const t=n;if(t._def.typeName==="ZodDefault")return t._def.defaultValue();if("innerType"in t._def)return Y(t._def.innerType);if("schema"in t._def)return Y(t._def.schema)}function Ie(n){return(n==null?void 0:n._def.typeName)==="ZodEffects"?Ie(n._def.schema):n}function Oe(n){return/^\[.+\]$/.test(n)}function Da(n){return n!==null&&!!n&&typeof n=="object"&&!Array.isArray(n)}function Ra(n){return Da(n)||Array.isArray(n)}function ja(n){return Oe(n)?n.replace(/\[|\]/g,""):n}function ce(n,t,o){return n?Oe(t)?n[ja(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((l,i)=>Ra(l)&&i in l?l[i]:o,n):o}function Ta(n){switch(n){case"true":case!0:return!0;case"false":case!1:return!1}}function x(n){return n?Ta(n):void 0}const Pa={class:"!my-4 flex justify-end"},Za=C({__name:"AutoFormFieldArray",props:{fieldName:{},required:{type:Boolean},config:{},schema:{},disabled:{type:Boolean}},setup(n){const t=n;function o(s){return s instanceof ea}function a(s){return s instanceof aa}const l=$(()=>{if(!t.schema)return;const s=o(t.schema)?t.schema._def.type:a(t.schema)?t.schema._def.innerType._def.type:null;return{type:ie(s),schema:s}}),i=ve(t.fieldName);return Ce(ge,i),(s,u)=>(f(),v(e(Ve),{as:"section",name:s.fieldName},{default:d(({fields:r,remove:h,push:m})=>[y(s.$slots,"default",w(k(t)),()=>[c(e(Se),{type:"multiple",class:"w-full",collapsible:"",disabled:s.disabled,"as-child":""},{default:d(()=>[c(e(R),null,{default:d(()=>[c(e(we),{value:s.fieldName,class:"border-none"},{default:d(()=>[c(e(ke),null,{default:d(()=>[c(j,{class:"text-base",required:s.required},{default:d(()=>{var b;return[N(S(((b=s.schema)==null?void 0:b.description)||e(V)(s.fieldName)),1)]}),_:1},8,["required"])]),_:1}),c(e(Be),null,{default:d(()=>[(f(!0),q(K,null,Q(r,(b,_)=>(f(),q("div",{key:b.key,class:"mb-4 p-1"},[c(re,{"field-name":`${s.fieldName}[${_}]`,label:s.fieldName,shape:l.value,config:s.config},null,8,["field-name","label","shape","config"]),G("div",Pa,[c(e(W),{type:"button",size:"icon",variant:"secondary",onClick:g=>h(_)},{default:d(()=>[c(e(Ae),{size:16})]),_:2},1032,["onClick"])]),b.isLast?B("",!0):(f(),v(e(Ke),{key:0}))]))),128)),c(e(W),{type:"button",variant:"secondary",class:"mt-4 flex items-center",onClick:b=>m(null)},{default:d(()=>[c(e(xe),{class:"mr-2",size:16}),u[0]||(u[0]=N(" Add "))]),_:2,__:[0]},1032,["onClick"])]),_:2},1024),c(e(T))]),_:2},1032,["value"])]),_:2},1024)]),_:2},1032,["disabled"])])]),_:3},8,["name"]))}}),Ha={class:"space-y-0 mb-3 flex items-center gap-3"},fe=C({__name:"AutoFormFieldBoolean",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean}},setup(n){const t=n,o=$(()=>{var a;return((a=t.config)==null?void 0:a.component)==="switch"?ta:We});return(a,l)=>(f(),v(e(L),{name:a.fieldName},{default:d(i=>[c(e(R),null,{default:d(()=>{var s,u;return[G("div",Ha,[(s=a.config)!=null&&s.hideLabel?B("",!0):(f(),v(j,{key:0,required:a.required},{default:d(()=>{var r;return[N(S(((r=a.config)==null?void 0:r.label)||e(V)(a.label??a.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(a.$slots,"default",w(k(i)),()=>{var r,h;return[(f(),v(te(o.value),{disabled:e(x)((h=(r=a.config)==null?void 0:r.inputProps)==null?void 0:h.disabled)??a.disabled,name:i.componentField.name,"model-value":i.componentField.modelValue,"onUpdate:modelValue":i.componentField["onUpdate:modelValue"]},null,8,["disabled","name","model-value","onUpdate:modelValue"]))]})]),_:2},1024)]),(u=a.config)!=null&&u.description?(f(),v(e(U),{key:0},{default:d(()=>[N(S(a.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1024)]),_:3},8,["name"]))}}),La=C({__name:"AutoFormFieldDate",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean}},setup(n){const t=new Qe("en-US",{dateStyle:"long"});return(o,a)=>(f(),v(e(L),{name:o.fieldName},{default:d(l=>[c(e(R),null,{default:d(()=>{var i,s;return[(i=o.config)!=null&&i.hideLabel?B("",!0):(f(),v(j,{key:0,required:o.required},{default:d(()=>{var u;return[N(S(((u=o.config)==null?void 0:u.label)||e(V)(o.label??o.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(o.$slots,"default",w(k(l)),()=>[G("div",null,[c(e(oa),null,{default:d(()=>{var u,r;return[c(e(la),{"as-child":"",disabled:e(x)((r=(u=o.config)==null?void 0:u.inputProps)==null?void 0:r.disabled)??o.disabled},{default:d(()=>[c(e(W),{variant:"outline",class:$e(e(ae)("w-full justify-start text-left font-normal",!l.componentField.modelValue&&"text-muted-foreground"))},{default:d(()=>[c(e(ia),{class:"mr-2 h-4 w-4"}),N(" "+S(l.componentField.modelValue?e(t).format(l.componentField.modelValue.toDate(e(Xe)())):"Pick a date"),1)]),_:2},1032,["class"])]),_:2},1032,["disabled"]),c(e(sa),{class:"w-auto p-0"},{default:d(()=>[c(e(na),I({"initial-focus":""},l.componentField),null,16)]),_:2},1024)]}),_:2},1024)])])]),_:2},1024),(s=o.config)!=null&&s.description?(f(),v(e(U),{key:1},{default:d(()=>[N(S(o.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1024)]),_:3},8,["name"]))}}),pe=C({__name:"AutoFormFieldEnum",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean},options:{}},setup(n){return(t,o)=>(f(),v(e(L),{name:t.fieldName},{default:d(a=>[c(e(R),null,{default:d(()=>{var l,i;return[(l=t.config)!=null&&l.hideLabel?B("",!0):(f(),v(j,{key:0,required:t.required},{default:d(()=>{var s;return[N(S(((s=t.config)==null?void 0:s.label)||e(V)(t.label??t.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(t.$slots,"default",w(k(a)),()=>{var s,u,r,h,m;return[((s=t.config)==null?void 0:s.component)==="radio"?(f(),v(e(ra),I({key:0,disabled:e(x)((r=(u=t.config)==null?void 0:u.inputProps)==null?void 0:r.disabled)??t.disabled,orientation:"vertical"},{...a.componentField}),{default:d(()=>[(f(!0),q(K,null,Q(t.options,(b,_)=>(f(),q("div",{key:b,class:"mb-2 flex items-center gap-3 space-y-0"},[c(e(da),{id:`${b}-${_}`,value:b},null,8,["id","value"]),c(e(Ge),{for:`${b}-${_}`},{default:d(()=>[N(S(e(V)(b)),1)]),_:2},1032,["for"])]))),128))]),_:2},1040,["disabled"])):(f(),v(e(ua),I({key:1,disabled:e(x)((m=(h=t.config)==null?void 0:h.inputProps)==null?void 0:m.disabled)??t.disabled},{...a.componentField}),{default:d(()=>[c(e(ca),{class:"w-full"},{default:d(()=>{var b,_;return[c(e(fa),{placeholder:(_=(b=t.config)==null?void 0:b.inputProps)==null?void 0:_.placeholder},null,8,["placeholder"])]}),_:1}),c(e(pa),null,{default:d(()=>[(f(!0),q(K,null,Q(t.options,b=>(f(),v(e(ma),{key:b,value:b},{default:d(()=>[N(S(e(V)(b)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1040,["disabled"]))]})]),_:2},1024),(i=t.config)!=null&&i.description?(f(),v(e(U),{key:1},{default:d(()=>[N(S(t.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1024)]),_:3},8,["name"]))}}),Ma={key:1,class:"flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent pl-3 pr-1 py-1 text-sm shadow-sm transition-colors"},Ua=C({__name:"AutoFormFieldFile",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean}},setup(n){const t=O();async function o(a){return new Promise((l,i)=>{if(a){const s=new FileReader;s.onloadend=()=>{l(s.result)},s.onerror=u=>{i(u)},s.readAsDataURL(a)}})}return(a,l)=>(f(),v(e(L),{name:a.fieldName},{default:d(i=>[c(e(R),w(k(a.$attrs)),{default:d(()=>{var s,u;return[(s=a.config)!=null&&s.hideLabel?B("",!0):(f(),v(j,{key:0,required:a.required},{default:d(()=>{var r;return[N(S(((r=a.config)==null?void 0:r.label)||e(V)(a.label??a.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(a.$slots,"default",w(k(i)),()=>{var r,h,m,b;return[t.value?(f(),q("div",Ma,[G("p",null,S((b=t.value)==null?void 0:b.name),1),c(e(W),{size:"icon",variant:"ghost",class:"h-[26px] w-[26px]","aria-label":"Remove file",type:"button",onClick:()=>{t.value=void 0,i.componentField.onInput(void 0)}},{default:d(()=>[c(e(Ae))]),_:2},1032,["onClick"])])):(f(),v(e(le),I({key:0,type:"file"},{...(r=a.config)==null?void 0:r.inputProps},{disabled:((m=(h=a.config)==null?void 0:h.inputProps)==null?void 0:m.disabled)??a.disabled,onChange:async _=>{var A;const g=(A=_.target.files)==null?void 0:A[0];t.value=g;const p=await o(g);i.componentField.onInput(p)}}),null,16,["disabled","onChange"]))]})]),_:2},1024),(u=a.config)!=null&&u.description?(f(),v(e(U),{key:1},{default:d(()=>[N(S(a.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1040)]),_:3},8,["name"]))}}),me=C({__name:"AutoFormFieldInput",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean}},setup(n){const t=n,o=$(()=>{var a;return((a=t.config)==null?void 0:a.component)==="textarea"?ba:le});return(a,l)=>(f(),v(e(L),{name:a.fieldName},{default:d(i=>[c(e(R),w(k(a.$attrs)),{default:d(()=>{var s,u;return[(s=a.config)!=null&&s.hideLabel?B("",!0):(f(),v(j,{key:0,required:a.required},{default:d(()=>{var r;return[N(S(((r=a.config)==null?void 0:r.label)||e(V)(a.label??a.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(a.$slots,"default",w(k(i)),()=>{var r,h,m;return[(f(),v(te(o.value),I({type:"text"},{...i.componentField,...(r=a.config)==null?void 0:r.inputProps},{disabled:((m=(h=a.config)==null?void 0:h.inputProps)==null?void 0:m.disabled)??a.disabled}),null,16,["disabled"]))]})]),_:2},1024),(u=a.config)!=null&&u.description?(f(),v(e(U),{key:1},{default:d(()=>[N(S(a.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1040)]),_:3},8,["name"]))}}),za=C({inheritAttrs:!1,__name:"AutoFormFieldNumber",props:{fieldName:{},label:{},required:{type:Boolean},config:{},disabled:{type:Boolean}},setup(n){return(t,o)=>(f(),v(e(L),{name:t.fieldName},{default:d(a=>[c(e(R),null,{default:d(()=>{var l,i;return[(l=t.config)!=null&&l.hideLabel?B("",!0):(f(),v(j,{key:0,required:t.required},{default:d(()=>{var s;return[N(S(((s=t.config)==null?void 0:s.label)||e(V)(t.label??t.fieldName)),1)]}),_:1},8,["required"])),c(e(M),null,{default:d(()=>[y(t.$slots,"default",w(k(a)),()=>{var s,u,r;return[c(e(le),I({type:"number"},{...a.componentField,...(s=t.config)==null?void 0:s.inputProps},{disabled:((r=(u=t.config)==null?void 0:u.inputProps)==null?void 0:r.disabled)??t.disabled}),null,16,["disabled"])]})]),_:2},1024),(i=t.config)!=null&&i.description?(f(),v(e(U),{key:1},{default:d(()=>[N(S(t.config.description),1)]),_:1})):B("",!0),c(e(T))]}),_:2},1024)]),_:3},8,["name"]))}}),Ka=C({__name:"AutoFormFieldObject",props:{fieldName:{},required:{type:Boolean},config:{},schema:{},disabled:{type:Boolean}},setup(n){const t=n,o=$(()=>{var s;const l={};if(!t.schema)return;const i=(s=H(t.schema))==null?void 0:s.shape;if(i)return Object.keys(i).forEach(u=>{const r=i[u],h=H(r);let m=h&&"values"in h._def?h._def.values:void 0;!Array.isArray(m)&&typeof m=="object"&&(m=Object.values(m)),l[u]={type:ie(r),default:Y(r),options:m,required:!["ZodOptional","ZodNullable"].includes(r._def.typeName),schema:r}}),l}),a=ve(t.fieldName);return Ce(ge,a),(l,i)=>(f(),q("section",null,[y(l.$slots,"default",w(k(t)),()=>[c(e(Se),{type:"single","as-child":"",class:"w-full",collapsible:"",disabled:l.disabled},{default:d(()=>[c(e(R),null,{default:d(()=>[c(e(we),{value:l.fieldName,class:"border-none"},{default:d(()=>[c(e(ke),null,{default:d(()=>[c(j,{class:"text-base",required:l.required},{default:d(()=>{var s;return[N(S(((s=l.schema)==null?void 0:s.description)||e(V)(l.fieldName)),1)]}),_:1},8,["required"])]),_:1}),c(e(Be),{class:"p-1 space-y-5"},{default:d(()=>[(f(!0),q(K,null,Q(o.value,(s,u)=>{var r;return f(),v(re,{key:u,config:(r=l.config)==null?void 0:r[u],"field-name":`${l.fieldName}.${u.toString()}`,label:u.toString(),shape:s},null,8,["config","field-name","label","shape"])}),128))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["disabled"])])]))}}),be={date:La,select:pe,radio:pe,checkbox:fe,switch:fe,textarea:me,number:za,string:me,file:Ua,array:Za,object:Ka},Qa={ZodString:"string",ZodBoolean:"checkbox",ZodDate:"date",ZodEnum:"select",ZodNativeEnum:"select",ZodNumber:"number",ZodArray:"array",ZodObject:"object"};var z=(n=>(n[n.DISABLES=0]="DISABLES",n[n.REQUIRES=1]="REQUIRES",n[n.HIDES=2]="HIDES",n[n.SETS_OPTIONS=3]="SETS_OPTIONS",n))(z||{});const[Xa,Ga]=ee("AutoFormDependencies");function Ja(n){const t=Ee(),o=n.replace(/\[\d+\]/g,""),a=De(n);if(!t)throw new Error("useDependencies should be used within <AutoForm>");const l=Xa(),i=O(!1),s=O(!1),u=O(!1),r=O(),h=$(()=>{var g;return(g=l.value)==null?void 0:g.filter(p=>p.targetField===o)});function m(g){const p=g.sourceField,A=Ea(n)??-1,[F,...E]=p.split(".").toReversed(),[J,...Z]=g.targetField.split(".").toReversed();if(A>=0&&E.join(",")===Z.join(",")){const[D,...de]=n.split(".").toReversed();return ce(t.value,de.join(".")+F)}return ce(t.value,p)}const b=$(()=>{var g;return(g=h.value)==null?void 0:g.map(p=>m(p))}),_=()=>{i.value=!1,s.value=!1,u.value=!1,r.value=void 0};return ye([b,l],()=>{var g;_(),(g=h.value)==null||g.forEach(p=>{const A=m(p),F=p.when(A,a.value);switch(p.type){case z.DISABLES:F&&(i.value=!0);break;case z.REQUIRES:F&&(u.value=!0);break;case z.HIDES:F&&(s.value=!0);break;case z.SETS_OPTIONS:F&&(r.value=p.options);break}})},{immediate:!0,deep:!0}),{isDisabled:i,isHidden:s,isRequired:u,overrideOptions:r}}const re=C({__name:"AutoFormField",props:{fieldName:{},shape:{},config:{}},setup(n){const t=n;function o(r){return!!(r!=null&&r.component)}const a=$(()=>{var r,h;if(["ZodObject","ZodArray"].includes((r=t.shape)==null?void 0:r.type))return{schema:(h=t.shape)==null?void 0:h.schema}}),{isDisabled:l,isHidden:i,isRequired:s,overrideOptions:u}=Ja(t.fieldName);return(r,h)=>{var m;return e(i)?B("",!0):(f(),v(te(o(r.config)?typeof r.config.component=="string"?e(be)[r.config.component]:r.config.component:e(be)[e(Qa)[r.shape.type]]),I({key:0,"field-name":r.fieldName,label:(m=r.shape.schema)==null?void 0:m.description,required:e(s)||r.shape.required,options:e(u)||r.shape.options,disabled:e(l),config:r.config},a.value),{default:d(()=>[y(r.$slots,"default")]),_:3},16,["field-name","label","required","options","disabled","config"]))}}}),mt=C({__name:"AutoForm",props:{schema:{},form:{},fieldConfig:{},dependencies:{}},emits:["submit"],setup(n,{emit:t}){const o=n,a=t,{dependencies:l}=oe(o);Ga(l);const i=$(()=>{const m={},_=Ie(o.schema).shape;return Object.keys(_).forEach(g=>{const p=_[g],A=H(p);let F=A&&"values"in A._def?A._def.values:void 0;!Array.isArray(F)&&typeof F=="object"&&(F=Object.values(F)),m[g]={type:ie(p),default:Y(p),options:F,required:!["ZodOptional","ZodNullable"].includes(p._def.typeName),schema:A}}),m}),s=$(()=>{var b;const m={};for(const _ in i.value){const g=i.value[_];m[_]={shape:g,fieldName:_,config:(b=o.fieldConfig)==null?void 0:b[_]}}return m}),u=$(()=>{var b;const m={};for(const _ in i.value){const g=i.value[_],p=((b=o.fieldConfig)==null?void 0:b[_])||{};m[_]={...g,...p,options:(p==null?void 0:p.options)??g.options}}return m}),r=$(()=>o.form?"form":Re),h=$(()=>o.form?{onSubmit:o.form.handleSubmit(m=>a("submit",m))}:{keepValues:!0,validationSchema:je(o.schema),onSubmit:b=>a("submit",b)});return(m,b)=>(f(),v(te(r.value),w(k(h.value)),{default:d(()=>[y(m.$slots,"customAutoForm",{fields:s.value},()=>[(f(!0),q(K,null,Q(i.value,(_,g)=>{var p;return y(m.$slots,g.toString(),{key:g,shape:_,fieldName:g.toString(),config:(p=m.fieldConfig)==null?void 0:p[g]},()=>[c(re,{config:u.value[g],"field-name":g.toString(),shape:i.value[g]},null,8,["config","field-name","shape"])])}),128))]),y(m.$slots,"default",{shapes:i.value})]),_:3},16))}});export{mt as _};
