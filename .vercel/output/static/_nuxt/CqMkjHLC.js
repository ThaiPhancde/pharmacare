import{d as u,b as S,o as _,w as k,p as I,u as R,bX as x,a as d,es as P,bZ as g,r as p,aE as B,aA as T,dh as $,a0 as v,et as h,U as j,aD as z}from"./CKxg9VfS.js";import{e as y}from"./B1BtpM6Q.js";const O=u({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(l){return(e,f)=>(_(),S(R(x),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:k(()=>[I(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function V(l){return d(()=>{var e;return P(l)?!!((e=g(l))!=null&&e.closest("form")):!0})}const w="data-reka-collection-item";function q(l={}){const{key:e="",isProvider:f=!1}=l,m=`${e}CollectionProvider`;let t;if(f){const o=p(new Map);t={collectionRef:p(),itemMap:o},z(m,t)}else t=B(m);const C=(o=!1)=>{const a=t.collectionRef.value;if(!a)return[];const r=Array.from(a.querySelectorAll(`[${w}]`)),i=Array.from(t.itemMap.value.values()).sort((n,c)=>r.indexOf(n.ref)-r.indexOf(c.ref));return o?i:i.filter(n=>n.ref.dataset.disabled!=="")},b=u({name:"CollectionSlot",setup(o,{slots:a}){const{primitiveElement:r,currentElement:s}=y();return j(s,()=>{t.collectionRef.value=s.value}),()=>v(h,{ref:r},a)}}),A=u({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(o,{slots:a,attrs:r}){const{primitiveElement:s,currentElement:i}=y();return T(n=>{if(i.value){const c=$(i.value);t.itemMap.value.set(c,{ref:i.value,value:o.value}),n(()=>t.itemMap.value.delete(c))}}),()=>v(h,{...r,[w]:"",ref:s},a)}}),E=d(()=>Array.from(t.itemMap.value.values())),M=d(()=>t.itemMap.value.size);return{getItems:C,reactiveItems:E,itemMapSize:M,CollectionSlot:b,CollectionItem:A}}export{O as _,V as a,q as u};
