import{bS as y,d as k,bV as $,bT as x,a as p,b as v,o as b,w as u,p as g,i as A,u as e,v as w,b1 as M,bY as I,aR as K,bX as R,e as C,f as N}from"./CKxg9VfS.js";import{c as S,P as O,a as T}from"./B1BtpM6Q.js";import{i as V}from"./CHIgUVhi.js";import{a as D}from"./CqMkjHLC.js";import{_ as L}from"./DS3w2pYu.js";import{_ as X}from"./BCknCIeb.js";import{C as Y}from"./DZiD_n4a.js";function q(s,n){return V(s)?!1:Array.isArray(s)?s.some(t=>y(t,n)):y(s,n)}const[z,se]=S("CheckboxGroupRoot");function h(s){return s==="indeterminate"}function E(s){return h(s)?"indeterminate":s?"checked":"unchecked"}const[H,J]=S("CheckboxRoot"),Q=k({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:n}){const t=s,l=n,{forwardRef:c,currentElement:m}=$(),o=z(null),r=x(t,"modelValue",l,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),d=p(()=>(o==null?void 0:o.disabled.value)||t.disabled),i=p(()=>V(o==null?void 0:o.modelValue.value)?r.value==="indeterminate"?"indeterminate":r.value:q(o.modelValue.value,t.value));function F(){if(V(o==null?void 0:o.modelValue.value))r.value=h(r.value)?!0:!r.value;else{const a=[...o.modelValue.value||[]];if(q(a,t.value)){const _=a.findIndex(f=>y(f,t.value));a.splice(_,1)}else a.push(t.value);o.modelValue.value=a}}const P=D(m),j=p(()=>{var a;return t.id&&m.value?(a=document.querySelector(`[for="${t.id}"]`))==null?void 0:a.innerText:void 0});return J({disabled:d,state:i}),(a,_)=>{var f,B;return b(),v(K((f=e(o))!=null&&f.rovingFocus.value?e(L):e(R)),w(a.$attrs,{id:a.id,ref:e(c),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(h)(i.value)?"mixed":i.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||j.value,"data-state":e(E)(i.value),"data-disabled":d.value?"":void 0,disabled:d.value,focusable:(B=e(o))!=null&&B.rovingFocus.value?!d.value:void 0,onKeydown:M(I(()=>{},["prevent"]),["enter"]),onClick:F}),{default:u(()=>[g(a.$slots,"default",{modelValue:e(r),state:i.value}),e(P)&&a.name&&!e(o)?(b(),v(e(X),{key:0,type:"checkbox",checked:!!i.value,name:a.name,value:a.value,disabled:d.value,required:a.required},null,8,["checked","name","value","disabled","required"])):A("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),U=k({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(s){const{forwardRef:n}=$(),t=H();return(l,c)=>(b(),v(e(O),{present:l.forceMount||e(h)(e(t).state.value)||e(t).state.value===!0},{default:u(()=>[C(e(R),w({ref:e(n),"data-state":e(E)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:u(()=>[g(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),le=k({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(s,{emit:n}){const t=s,l=n,c=p(()=>{const{class:o,...r}=t;return r}),m=T(c,l);return(o,r)=>(b(),v(e(Q),w(e(m),{class:e(N)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t.class)}),{default:u(()=>[C(e(U),{class:"flex h-full w-full items-center justify-center text-current"},{default:u(()=>[g(o.$slots,"default",{},()=>[C(e(Y),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}});export{le as _,q as i};
