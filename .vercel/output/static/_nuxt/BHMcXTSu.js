import{r as I,a as K,bp as we,aD as st,d as ce,aE as ht,a0 as p,v as xn,eG as _t,ad as Le,dj as Cn,dl as Sn,$ as ne,a1 as vt,p as Tn,U as xe,aX as Bt,b8 as gt,a9 as pt,eH as Oe,bc as Rn,aa as Et,a4 as D,a6 as X,a5 as ae,a2 as ue,bb as dt,eI as Fn,ab as bt,ae as $t,ac as ke,ag as mt,af as ye,b9 as Fe,F as On,aA as kn,a$ as Pn,bd as Mn,be as In}from"./CKxg9VfS.js";import{f as Nt,c as xt,m as zn}from"./gy6MXjwN.js";import{c as Ue,a as Lt,b as An,i as yt,d as _n,p as Bn,N as En,B as $n,V as Nn,e as Ln,u as ut}from"./BH030lJW.js";import{V as Ct,r as et,s as Wn,S as Dn,W as Kn,N as Hn,u as St,g as Vn}from"./ChAwXecA.js";import{_ as tt}from"./DboHdRIr.js";import{d as ct,p as Ee,a as Tt,r as jn,g as $e,c as de}from"./CbhVS3Xc.js";import{e as Gn,_ as Un}from"./CMIqKt_m.js";import{u as qn}from"./Be3VPoHw.js";import{u as Xn}from"./DDBjNozI.js";import{u as Yn}from"./Be7d-GBD.js";function Ne(e,t){let{target:n}=e;for(;n;){if(n.dataset&&n.dataset[t]!==void 0)return!0;n=n.parentElement}return!1}function Rt(e){return e&-e}class Wt{constructor(t,n){this.l=t,this.min=n;const o=new Array(t+1);for(let i=0;i<t+1;++i)o[i]=0;this.ft=o}add(t,n){if(n===0)return;const{l:o,ft:i}=this;for(t+=1;t<=o;)i[t]+=n,t+=Rt(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:o,l:i}=this;if(t>i)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let s=t*o;for(;t>0;)s+=n[t],t-=Rt(t);return s}getBound(t){let n=0,o=this.l;for(;o>n;){const i=Math.floor((n+o)/2),s=this.sum(i);if(s>t){o=i;continue}else if(s<t){if(n===i)return this.sum(n+1)<=t?n+1:i;n=i}else return i}return n}}let Ge;function Zn(){return typeof document>"u"?!1:(Ge===void 0&&("matchMedia"in window?Ge=window.matchMedia("(pointer:coarse)").matches:Ge=!1),Ge)}let nt;function Ft(){return typeof document>"u"?1:(nt===void 0&&(nt="chrome"in window?window.devicePixelRatio:1),nt)}const Dt="VVirtualListXScroll";function Jn({columnsRef:e,renderColRef:t,renderItemWithColsRef:n}){const o=I(0),i=I(0),s=K(()=>{const d=e.value;if(d.length===0)return null;const c=new Wt(d.length,0);return d.forEach((m,T)=>{c.add(T,m.width)}),c}),r=we(()=>{const d=s.value;return d!==null?Math.max(d.getBound(i.value)-1,0):0}),a=d=>{const c=s.value;return c!==null?c.sum(d):0},u=we(()=>{const d=s.value;return d!==null?Math.min(d.getBound(i.value+o.value)+1,e.value.length-1):0});return st(Dt,{startIndexRef:r,endIndexRef:u,columnsRef:e,renderColRef:t,renderItemWithColsRef:n,getLeft:a}),{listWidthRef:o,scrollLeftRef:i}}const Ot=ce({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:t,columnsRef:n,getLeft:o,renderColRef:i,renderItemWithColsRef:s}=ht(Dt);return{startIndex:e,endIndex:t,columns:n,renderCol:i,renderItemWithCols:s,getLeft:o}},render(){const{startIndex:e,endIndex:t,columns:n,renderCol:o,renderItemWithCols:i,getLeft:s,item:r}=this;if(i!=null)return i({itemIndex:this.index,startColIndex:e,endColIndex:t,allColumns:n,item:r,getLeft:s});if(o!=null){const a=[];for(let u=e;u<=t;++u){const d=n[u];a.push(o({column:d,left:s(u),item:r}))}return a}return null}}),Qn=Ue(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Ue("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Ue("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),eo=ce({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=_t();Qn.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Lt,ssr:t}),Le(()=>{const{defaultScrollIndex:v,defaultScrollKey:S}=e;v!=null?W({index:v}):S!=null&&W({key:S})});let n=!1,o=!1;Cn(()=>{if(n=!1,!o){o=!0;return}W({top:R.value,left:r.value})}),Sn(()=>{n=!0,o||(o=!0)});const i=we(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let v=0;return e.columns.forEach(S=>{v+=S.width}),v}),s=K(()=>{const v=new Map,{keyField:S}=e;return e.items.forEach((N,G)=>{v.set(N[S],G)}),v}),{scrollLeftRef:r,listWidthRef:a}=Jn({columnsRef:ne(e,"columns"),renderColRef:ne(e,"renderCol"),renderItemWithColsRef:ne(e,"renderItemWithCols")}),u=I(null),d=I(void 0),c=new Map,m=K(()=>{const{items:v,itemSize:S,keyField:N}=e,G=new Wt(v.length,S);return v.forEach((Z,U)=>{const q=Z[N],H=c.get(q);H!==void 0&&G.add(U,H)}),G}),T=I(0),R=I(0),w=we(()=>Math.max(m.value.getBound(R.value-ct(e.paddingTop))-1,0)),M=K(()=>{const{value:v}=d;if(v===void 0)return[];const{items:S,itemSize:N}=e,G=w.value,Z=Math.min(G+Math.ceil(v/N+1),S.length-1),U=[];for(let q=G;q<=Z;++q)U.push(S[q]);return U}),W=(v,S)=>{if(typeof v=="number"){h(v,S,"auto");return}const{left:N,top:G,index:Z,key:U,position:q,behavior:H,debounce:ee=!0}=v;if(N!==void 0||G!==void 0)h(N,G,H);else if(Z!==void 0)F(Z,H,ee);else if(U!==void 0){const g=s.value.get(U);g!==void 0&&F(g,H,ee)}else q==="bottom"?h(0,Number.MAX_SAFE_INTEGER,H):q==="top"&&h(0,0,H)};let O,k=null;function F(v,S,N){const{value:G}=m,Z=G.sum(v)+ct(e.paddingTop);if(!N)u.value.scrollTo({left:0,top:Z,behavior:S});else{O=v,k!==null&&window.clearTimeout(k),k=window.setTimeout(()=>{O=void 0,k=null},16);const{scrollTop:U,offsetHeight:q}=u.value;if(Z>U){const H=G.get(v);Z+H<=U+q||u.value.scrollTo({left:0,top:Z+H-q,behavior:S})}else u.value.scrollTo({left:0,top:Z,behavior:S})}}function h(v,S,N){u.value.scrollTo({left:v,top:S,behavior:N})}function y(v,S){var N,G,Z;if(n||e.ignoreItemResize||ie(S.target))return;const{value:U}=m,q=s.value.get(v),H=U.get(q),ee=(Z=(G=(N=S.borderBoxSize)===null||N===void 0?void 0:N[0])===null||G===void 0?void 0:G.blockSize)!==null&&Z!==void 0?Z:S.contentRect.height;if(ee===H)return;ee-e.itemSize===0?c.delete(v):c.set(v,ee-e.itemSize);const x=ee-H;if(x===0)return;U.add(q,x);const V=u.value;if(V!=null){if(O===void 0){const le=U.sum(q);V.scrollTop>le&&V.scrollBy(0,x)}else if(q<O)V.scrollBy(0,x);else if(q===O){const le=U.sum(q);ee+le>V.scrollTop+V.offsetHeight&&V.scrollBy(0,x)}Q()}T.value++}const _=!Zn();let z=!1;function j(v){var S;(S=e.onScroll)===null||S===void 0||S.call(e,v),(!_||!z)&&Q()}function Y(v){var S;if((S=e.onWheel)===null||S===void 0||S.call(e,v),_){const N=u.value;if(N!=null){if(v.deltaX===0&&(N.scrollTop===0&&v.deltaY<=0||N.scrollTop+N.offsetHeight>=N.scrollHeight&&v.deltaY>=0))return;v.preventDefault(),N.scrollTop+=v.deltaY/Ft(),N.scrollLeft+=v.deltaX/Ft(),Q(),z=!0,An(()=>{z=!1})}}}function B(v){if(n||ie(v.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(v.contentRect.height===d.value)return}else if(v.contentRect.height===d.value&&v.contentRect.width===a.value)return;d.value=v.contentRect.height,a.value=v.contentRect.width;const{onResize:S}=e;S!==void 0&&S(v)}function Q(){const{value:v}=u;v!=null&&(R.value=v.scrollTop,r.value=v.scrollLeft)}function ie(v){let S=v;for(;S!==null;){if(S.style.display==="none")return!0;S=S.parentElement}return!1}return{listHeight:d,listStyle:{overflow:"auto"},keyToIndex:s,itemsStyle:K(()=>{const{itemResizable:v}=e,S=Ee(m.value.sum());return T.value,[e.itemsStyle,{boxSizing:"content-box",width:Ee(i.value),height:v?"":S,minHeight:v?S:"",paddingTop:Ee(e.paddingTop),paddingBottom:Ee(e.paddingBottom)}]}),visibleItemsStyle:K(()=>(T.value,{transform:`translateY(${Ee(m.value.sum(w.value))})`})),viewportItems:M,listElRef:u,itemsElRef:I(null),scrollTo:W,handleListResize:B,handleListScroll:j,handleListWheel:Y,handleItemResize:y}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:o}=this;return p(Ct,{onResize:this.handleListResize},{default:()=>{var i,s;return p("div",xn(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?p("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[p(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:r,renderItemWithCols:a}=this;return this.viewportItems.map(u=>{const d=u[t],c=n.get(d),m=r!=null?p(Ot,{index:c,item:u}):void 0,T=a!=null?p(Ot,{index:c,item:u}):void 0,R=this.$slots.default({item:u,renderedCols:m,renderedItemWithCols:T,index:c})[0];return e?p(Ct,{key:d,onResize:w=>this.handleItemResize(d,w)},{default:()=>R}):(R.key=d,R)})}})]):(s=(i=this.$slots).empty)===null||s===void 0?void 0:s.call(i)])}})}}),he="v-hidden",to=Ue("[v-hidden]",{display:"none!important"}),kt=ce({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const n=I(null),o=I(null);function i(r){const{value:a}=n,{getCounter:u,getTail:d}=e;let c;if(u!==void 0?c=u():c=o.value,!a||!c)return;c.hasAttribute(he)&&c.removeAttribute(he);const{children:m}=a;if(r.showAllItemsBeforeCalculate)for(const F of m)F.hasAttribute(he)&&F.removeAttribute(he);const T=a.offsetWidth,R=[],w=t.tail?d==null?void 0:d():null;let M=w?w.offsetWidth:0,W=!1;const O=a.children.length-(t.tail?1:0);for(let F=0;F<O-1;++F){if(F<0)continue;const h=m[F];if(W){h.hasAttribute(he)||h.setAttribute(he,"");continue}else h.hasAttribute(he)&&h.removeAttribute(he);const y=h.offsetWidth;if(M+=y,R[F]=y,M>T){const{updateCounter:_}=e;for(let z=F;z>=0;--z){const j=O-1-z;_!==void 0?_(j):c.textContent=`${j}`;const Y=c.offsetWidth;if(M-=R[z],M+Y<=T||z===0){W=!0,F=z-1,w&&(F===-1?(w.style.maxWidth=`${T-Y}px`,w.style.boxSizing="border-box"):w.style.maxWidth="");const{onUpdateCount:B}=e;B&&B(j);break}}}}const{onUpdateOverflow:k}=e;W?k!==void 0&&k(!0):(k!==void 0&&k(!1),c.setAttribute(he,""))}const s=_t();return to.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Lt,ssr:s}),Le(()=>i({showAllItemsBeforeCalculate:!1})),{selfRef:n,counterRef:o,sync:i}},render(){const{$slots:e}=this;return vt(()=>this.sync({showAllItemsBeforeCalculate:!1})),p("div",{class:"v-overflow",ref:"selfRef"},[Tn(e,"default"),e.counter?e.counter():p("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Kt(e,t){t&&(Le(()=>{const{value:n}=e;n&&et.registerHandler(n,t)}),xe(e,(n,o)=>{o&&et.unregisterHandler(o)},{deep:!1}),Bt(()=>{const{value:n}=e;n&&et.unregisterHandler(n)}))}function Pt(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function ot(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(o=>{o&&o(n)})}}const no=ce({name:"Checkmark",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},p("g",{fill:"none"},p("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),oo=ce({props:{onFocus:Function,onBlur:Function},setup(e){return()=>p("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Mt(e){return Array.isArray(e)?e:[e]}const ft={STOP:"STOP"};function Ht(e,t){const n=t(e);e.children!==void 0&&n!==ft.STOP&&e.children.forEach(o=>Ht(o,t))}function io(e,t={}){const{preserveGroup:n=!1}=t,o=[],i=n?r=>{r.isLeaf||(o.push(r.key),s(r.children))}:r=>{r.isLeaf||(r.isGroup||o.push(r.key),s(r.children))};function s(r){r.forEach(i)}return s(e),o}function lo(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function ro(e){return e.children}function ao(e){return e.key}function so(){return!1}function uo(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function co(e){return e.disabled===!0}function fo(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function it(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function lt(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function ho(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)||n.add(o)}),Array.from(n)}function vo(e,t){const n=new Set(e);return t.forEach(o=>{n.has(o)&&n.delete(o)}),Array.from(n)}function go(e){return(e==null?void 0:e.type)==="group"}function po(e){const t=new Map;return e.forEach((n,o)=>{t.set(n.key,o)}),n=>{var o;return(o=t.get(n))!==null&&o!==void 0?o:null}}class bo extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function mo(e,t,n,o){return qe(t.concat(e),n,o,!1)}function yo(e,t){const n=new Set;return e.forEach(o=>{const i=t.treeNodeMap.get(o);if(i!==void 0){let s=i.parent;for(;s!==null&&!(s.disabled||n.has(s.key));)n.add(s.key),s=s.parent}}),n}function wo(e,t,n,o){const i=qe(t,n,o,!1),s=qe(e,n,o,!0),r=yo(e,n),a=[];return i.forEach(u=>{(s.has(u)||r.has(u))&&a.push(u)}),a.forEach(u=>i.delete(u)),i}function rt(e,t){const{checkedKeys:n,keysToCheck:o,keysToUncheck:i,indeterminateKeys:s,cascade:r,leafOnly:a,checkStrategy:u,allowNotLoaded:d}=e;if(!r)return o!==void 0?{checkedKeys:ho(n,o),indeterminateKeys:Array.from(s)}:i!==void 0?{checkedKeys:vo(n,i),indeterminateKeys:Array.from(s)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(s)};const{levelTreeNodeMap:c}=t;let m;i!==void 0?m=wo(i,n,t,d):o!==void 0?m=mo(o,n,t,d):m=qe(n,t,d,!1);const T=u==="parent",R=u==="child"||a,w=m,M=new Set,W=Math.max.apply(null,Array.from(c.keys()));for(let O=W;O>=0;O-=1){const k=O===0,F=c.get(O);for(const h of F){if(h.isLeaf)continue;const{key:y,shallowLoaded:_}=h;if(R&&_&&h.children.forEach(B=>{!B.disabled&&!B.isLeaf&&B.shallowLoaded&&w.has(B.key)&&w.delete(B.key)}),h.disabled||!_)continue;let z=!0,j=!1,Y=!0;for(const B of h.children){const Q=B.key;if(!B.disabled){if(Y&&(Y=!1),w.has(Q))j=!0;else if(M.has(Q)){j=!0,z=!1;break}else if(z=!1,j)break}}z&&!Y?(T&&h.children.forEach(B=>{!B.disabled&&w.has(B.key)&&w.delete(B.key)}),w.add(y)):j&&M.add(y),k&&R&&w.has(y)&&w.delete(y)}}return{checkedKeys:Array.from(w),indeterminateKeys:Array.from(M)}}function qe(e,t,n,o){const{treeNodeMap:i,getChildren:s}=t,r=new Set,a=new Set(e);return e.forEach(u=>{const d=i.get(u);d!==void 0&&Ht(d,c=>{if(c.disabled)return ft.STOP;const{key:m}=c;if(!r.has(m)&&(r.add(m),a.add(m),fo(c.rawNode,s))){if(o)return ft.STOP;if(!n)throw new bo}})}),a}function xo(e,{includeGroup:t=!1,includeSelf:n=!0},o){var i;const s=o.treeNodeMap;let r=e==null?null:(i=s.get(e))!==null&&i!==void 0?i:null;const a={keyPath:[],treeNodePath:[],treeNode:r};if(r!=null&&r.ignored)return a.treeNode=null,a;for(;r;)!r.ignored&&(t||!r.isGroup)&&a.treeNodePath.push(r),r=r.parent;return a.treeNodePath.reverse(),n||a.treeNodePath.pop(),a.keyPath=a.treeNodePath.map(u=>u.key),a}function Co(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function So(e,t){const n=e.siblings,o=n.length,{index:i}=e;return t?n[(i+1)%o]:i===n.length-1?null:n[i+1]}function It(e,t,{loop:n=!1,includeDisabled:o=!1}={}){const i=t==="prev"?To:So,s={reverse:t==="prev"};let r=!1,a=null;function u(d){if(d!==null){if(d===e){if(!r)r=!0;else if(!e.disabled&&!e.isGroup){a=e;return}}else if((!d.disabled||o)&&!d.ignored&&!d.isGroup){a=d;return}if(d.isGroup){const c=wt(d,s);c!==null?a=c:u(i(d,n))}else{const c=i(d,!1);if(c!==null)u(c);else{const m=Ro(d);m!=null&&m.isGroup?u(i(m,n)):n&&u(i(d,!0))}}}}return u(e),a}function To(e,t){const n=e.siblings,o=n.length,{index:i}=e;return t?n[(i-1+o)%o]:i===0?null:n[i-1]}function Ro(e){return e.parent}function wt(e,t={}){const{reverse:n=!1}=t,{children:o}=e;if(o){const{length:i}=o,s=n?i-1:0,r=n?-1:i,a=n?-1:1;for(let u=s;u!==r;u+=a){const d=o[u];if(!d.disabled&&!d.ignored)if(d.isGroup){const c=wt(d,t);if(c!==null)return c}else return d}}return null}const Fo={getChild(){return this.ignored?null:wt(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return It(this,"next",e)},getPrev(e={}){return It(this,"prev",e)}};function Oo(e,t){const n=t?new Set(t):void 0,o=[];function i(s){s.forEach(r=>{o.push(r),!(r.isLeaf||!r.children||r.ignored)&&(r.isGroup||n===void 0||n.has(r.key))&&i(r.children)})}return i(e),o}function ko(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function Vt(e,t,n,o,i,s=null,r=0){const a=[];return e.forEach((u,d)=>{var c;const m=Object.create(o);if(m.rawNode=u,m.siblings=a,m.level=r,m.index=d,m.isFirstChild=d===0,m.isLastChild=d+1===e.length,m.parent=s,!m.ignored){const T=i(u);Array.isArray(T)&&(m.children=Vt(T,t,n,o,i,m,r+1))}a.push(m),t.set(m.key,m),n.has(r)||n.set(r,[]),(c=n.get(r))===null||c===void 0||c.push(m)}),a}function Po(e,t={}){var n;const o=new Map,i=new Map,{getDisabled:s=co,getIgnored:r=so,getIsGroup:a=go,getKey:u=ao}=t,d=(n=t.getChildren)!==null&&n!==void 0?n:ro,c=t.ignoreEmptyChildren?h=>{const y=d(h);return Array.isArray(y)?y.length?y:null:y}:d,m=Object.assign({get key(){return u(this.rawNode)},get disabled(){return s(this.rawNode)},get isGroup(){return a(this.rawNode)},get isLeaf(){return lo(this.rawNode,c)},get shallowLoaded(){return uo(this.rawNode,c)},get ignored(){return r(this.rawNode)},contains(h){return ko(this,h)}},Fo),T=Vt(e,o,i,m,c);function R(h){if(h==null)return null;const y=o.get(h);return y&&!y.isGroup&&!y.ignored?y:null}function w(h){if(h==null)return null;const y=o.get(h);return y&&!y.ignored?y:null}function M(h,y){const _=w(h);return _?_.getPrev(y):null}function W(h,y){const _=w(h);return _?_.getNext(y):null}function O(h){const y=w(h);return y?y.getParent():null}function k(h){const y=w(h);return y?y.getChild():null}const F={treeNodes:T,treeNodeMap:o,levelTreeNodeMap:i,maxLevel:Math.max(...i.keys()),getChildren:c,getFlattenedNodes(h){return Oo(T,h)},getNode:R,getPrev:M,getNext:W,getParent:O,getChild:k,getFirstAvailableNode(){return Co(T)},getPath(h,y={}){return xo(h,y,F)},getCheckedKeys(h,y={}){const{cascade:_=!0,leafOnly:z=!1,checkStrategy:j="all",allowNotLoaded:Y=!1}=y;return rt({checkedKeys:it(h),indeterminateKeys:lt(h),cascade:_,leafOnly:z,checkStrategy:j,allowNotLoaded:Y},F)},check(h,y,_={}){const{cascade:z=!0,leafOnly:j=!1,checkStrategy:Y="all",allowNotLoaded:B=!1}=_;return rt({checkedKeys:it(y),indeterminateKeys:lt(y),keysToCheck:h==null?[]:Mt(h),cascade:z,leafOnly:j,checkStrategy:Y,allowNotLoaded:B},F)},uncheck(h,y,_={}){const{cascade:z=!0,leafOnly:j=!1,checkStrategy:Y="all",allowNotLoaded:B=!1}=_;return rt({checkedKeys:it(y),indeterminateKeys:lt(y),keysToUncheck:h==null?[]:Mt(h),cascade:z,leafOnly:j,checkStrategy:Y,allowNotLoaded:B},F)},getNonLeafKeys(h={}){return io(T,h)}};return F}const Mo={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function Io(e){const{borderRadius:t,popoverColor:n,textColor3:o,dividerColor:i,textColor2:s,primaryColorPressed:r,textColorDisabled:a,primaryColor:u,opacityDisabled:d,hoverColor:c,fontSizeTiny:m,fontSizeSmall:T,fontSizeMedium:R,fontSizeLarge:w,fontSizeHuge:M,heightTiny:W,heightSmall:O,heightMedium:k,heightLarge:F,heightHuge:h}=e;return Object.assign(Object.assign({},Mo),{optionFontSizeTiny:m,optionFontSizeSmall:T,optionFontSizeMedium:R,optionFontSizeLarge:w,optionFontSizeHuge:M,optionHeightTiny:W,optionHeightSmall:O,optionHeightMedium:k,optionHeightLarge:F,optionHeightHuge:h,borderRadius:t,color:n,groupHeaderTextColor:o,actionDividerColor:i,optionTextColor:s,optionTextColorPressed:r,optionTextColorDisabled:a,optionTextColorActive:u,optionOpacityDisabled:d,optionCheckColor:u,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:s,loadingColor:u})}const jt=gt({name:"InternalSelectMenu",common:pt,peers:{Scrollbar:Wn,Empty:Gn},self:Io}),zt=ce({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:o}=ht(yt);return{labelField:n,nodeProps:o,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:o,tmNode:{rawNode:i}}=this,s=o==null?void 0:o(i),r=t?t(i,!1):Oe(i[this.labelField],i,!1),a=p("div",Object.assign({},s,{class:[`${e}-base-select-group-header`,s==null?void 0:s.class]}),r);return i.render?i.render({node:a,option:i}):n?n({node:a,option:i,selected:!1}):a}});function zo(e,t){return p(Et,{name:"fade-in-scale-up-transition"},{default:()=>e?p(Rn,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>p(no)}):null})}const At=ce({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:o,valueSetRef:i,renderLabelRef:s,renderOptionRef:r,labelFieldRef:a,valueFieldRef:u,showCheckmarkRef:d,nodePropsRef:c,handleOptionClick:m,handleOptionMouseEnter:T}=ht(yt),R=we(()=>{const{value:O}=n;return O?e.tmNode.key===O.key:!1});function w(O){const{tmNode:k}=e;k.disabled||m(O,k)}function M(O){const{tmNode:k}=e;k.disabled||T(O,k)}function W(O){const{tmNode:k}=e,{value:F}=R;k.disabled||F||T(O,k)}return{multiple:o,isGrouped:we(()=>{const{tmNode:O}=e,{parent:k}=O;return k&&k.rawNode.type==="group"}),showCheckmark:d,nodeProps:c,isPending:R,isSelected:we(()=>{const{value:O}=t,{value:k}=o;if(O===null)return!1;const F=e.tmNode.rawNode[u.value];if(k){const{value:h}=i;return h.has(F)}else return O===F}),labelField:a,renderLabel:s,renderOption:r,handleMouseMove:W,handleMouseEnter:M,handleClick:w}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:o,isGrouped:i,showCheckmark:s,nodeProps:r,renderOption:a,renderLabel:u,handleClick:d,handleMouseEnter:c,handleMouseMove:m}=this,T=zo(n,e),R=u?[u(t,n),s&&T]:[Oe(t[this.labelField],t,n),s&&T],w=r==null?void 0:r(t),M=p("div",Object.assign({},w,{class:[`${e}-base-select-option`,t.class,w==null?void 0:w.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:i,[`${e}-base-select-option--pending`]:o,[`${e}-base-select-option--show-checkmark`]:s}],style:[(w==null?void 0:w.style)||"",t.style||""],onClick:ot([d,w==null?void 0:w.onClick]),onMouseenter:ot([c,w==null?void 0:w.onMouseenter]),onMousemove:ot([m,w==null?void 0:w.onMousemove])}),p("div",{class:`${e}-base-select-option__content`},R));return t.render?t.render({node:M,option:t,selected:n}):a?a({node:M,option:t,selected:n}):M}}),Ao=D("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[D("scrollbar",`
 max-height: var(--n-height);
 `),D("virtual-list",`
 max-height: var(--n-height);
 `),D("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[X("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),D("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),D("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),X("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),X("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),X("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),X("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),D("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),D("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ae("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),ue("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),ue("&:active",`
 color: var(--n-option-text-color-pressed);
 `),ae("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),ae("pending",[ue("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),ae("selected",`
 color: var(--n-option-text-color-active);
 `,[ue("&::before",`
 background-color: var(--n-option-color-active);
 `),ae("pending",[ue("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),ae("disabled",`
 cursor: not-allowed;
 `,[dt("selected",`
 color: var(--n-option-text-color-disabled);
 `),ae("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),X("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Nt({enterScale:"0.5"})])])]),_o=ce({name:"InternalSelectMenu",props:Object.assign(Object.assign({},ke.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=bt(e),o=$t("InternalSelectMenu",n,t),i=ke("InternalSelectMenu","-internal-select-menu",Ao,jt,e,ne(e,"clsPrefix")),s=I(null),r=I(null),a=I(null),u=K(()=>e.treeMate.getFlattenedNodes()),d=K(()=>po(u.value)),c=I(null);function m(){const{treeMate:g}=e;let x=null;const{value:V}=e;V===null?x=g.getFirstAvailableNode():(e.multiple?x=g.getNode((V||[])[(V||[]).length-1]):x=g.getNode(V),(!x||x.disabled)&&(x=g.getFirstAvailableNode())),S(x||null)}function T(){const{value:g}=c;g&&!e.treeMate.getNode(g.key)&&(c.value=null)}let R;xe(()=>e.show,g=>{g?R=xe(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?m():T(),vt(N)):T()},{immediate:!0}):R==null||R()},{immediate:!0}),Bt(()=>{R==null||R()});const w=K(()=>ct(i.value.self[ye("optionHeight",e.size)])),M=K(()=>$e(i.value.self[ye("padding",e.size)])),W=K(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),O=K(()=>{const g=u.value;return g&&g.length===0});function k(g){const{onToggle:x}=e;x&&x(g)}function F(g){const{onScroll:x}=e;x&&x(g)}function h(g){var x;(x=a.value)===null||x===void 0||x.sync(),F(g)}function y(){var g;(g=a.value)===null||g===void 0||g.sync()}function _(){const{value:g}=c;return g||null}function z(g,x){x.disabled||S(x,!1)}function j(g,x){x.disabled||k(x)}function Y(g){var x;Ne(g,"action")||(x=e.onKeyup)===null||x===void 0||x.call(e,g)}function B(g){var x;Ne(g,"action")||(x=e.onKeydown)===null||x===void 0||x.call(e,g)}function Q(g){var x;(x=e.onMousedown)===null||x===void 0||x.call(e,g),!e.focusable&&g.preventDefault()}function ie(){const{value:g}=c;g&&S(g.getNext({loop:!0}),!0)}function v(){const{value:g}=c;g&&S(g.getPrev({loop:!0}),!0)}function S(g,x=!1){c.value=g,x&&N()}function N(){var g,x;const V=c.value;if(!V)return;const le=d.value(V.key);le!==null&&(e.virtualScroll?(g=r.value)===null||g===void 0||g.scrollTo({index:le}):(x=a.value)===null||x===void 0||x.scrollTo({index:le,elSize:w.value}))}function G(g){var x,V;!((x=s.value)===null||x===void 0)&&x.contains(g.target)&&((V=e.onFocus)===null||V===void 0||V.call(e,g))}function Z(g){var x,V;!((x=s.value)===null||x===void 0)&&x.contains(g.relatedTarget)||(V=e.onBlur)===null||V===void 0||V.call(e,g)}st(yt,{handleOptionMouseEnter:z,handleOptionClick:j,valueSetRef:W,pendingTmNodeRef:c,nodePropsRef:ne(e,"nodeProps"),showCheckmarkRef:ne(e,"showCheckmark"),multipleRef:ne(e,"multiple"),valueRef:ne(e,"value"),renderLabelRef:ne(e,"renderLabel"),renderOptionRef:ne(e,"renderOption"),labelFieldRef:ne(e,"labelField"),valueFieldRef:ne(e,"valueField")}),st(_n,s),Le(()=>{const{value:g}=a;g&&g.sync()});const U=K(()=>{const{size:g}=e,{common:{cubicBezierEaseInOut:x},self:{height:V,borderRadius:le,color:Ce,groupHeaderTextColor:Se,actionDividerColor:fe,optionTextColorPressed:re,optionTextColor:Te,optionTextColorDisabled:ve,optionTextColorActive:Pe,optionOpacityDisabled:Me,optionCheckColor:Ie,actionTextColor:ze,optionColorPending:pe,optionColorActive:be,loadingColor:Ae,loadingSize:_e,optionColorActivePending:Be,[ye("optionFontSize",g)]:Re,[ye("optionHeight",g)]:me,[ye("optionPadding",g)]:oe}}=i.value;return{"--n-height":V,"--n-action-divider-color":fe,"--n-action-text-color":ze,"--n-bezier":x,"--n-border-radius":le,"--n-color":Ce,"--n-option-font-size":Re,"--n-group-header-text-color":Se,"--n-option-check-color":Ie,"--n-option-color-pending":pe,"--n-option-color-active":be,"--n-option-color-active-pending":Be,"--n-option-height":me,"--n-option-opacity-disabled":Me,"--n-option-text-color":Te,"--n-option-text-color-active":Pe,"--n-option-text-color-disabled":ve,"--n-option-text-color-pressed":re,"--n-option-padding":oe,"--n-option-padding-left":$e(oe,"left"),"--n-option-padding-right":$e(oe,"right"),"--n-loading-color":Ae,"--n-loading-size":_e}}),{inlineThemeDisabled:q}=e,H=q?mt("internal-select-menu",K(()=>e.size[0]),U,e):void 0,ee={selfRef:s,next:ie,prev:v,getPendingTmNode:_};return Kt(s,e.onResize),Object.assign({mergedTheme:i,mergedClsPrefix:t,rtlEnabled:o,virtualListRef:r,scrollbarRef:a,itemSize:w,padding:M,flattenedNodes:u,empty:O,virtualListContainer(){const{value:g}=r;return g==null?void 0:g.listElRef},virtualListContent(){const{value:g}=r;return g==null?void 0:g.itemsElRef},doScroll:F,handleFocusin:G,handleFocusout:Z,handleKeyUp:Y,handleKeyDown:B,handleMouseDown:Q,handleVirtualListResize:y,handleVirtualListScroll:h,cssVars:q?void 0:U,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender},ee)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:o,themeClass:i,onRender:s}=this;return s==null||s(),p("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,i,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Tt(e.header,r=>r&&p("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},r)),this.loading?p("div",{class:`${n}-base-select-menu__loading`},p(Fn,{clsPrefix:n,strokeWidth:20})):this.empty?p("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},jn(e.empty,()=>[p(Un,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty,size:this.size})])):p(Dn,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?p(eo,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:r})=>r.isGroup?p(zt,{key:r.key,clsPrefix:n,tmNode:r}):r.ignored?null:p(At,{clsPrefix:n,key:r.key,tmNode:r})}):p("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(r=>r.isGroup?p(zt,{key:r.key,clsPrefix:n,tmNode:r}):p(At,{clsPrefix:n,key:r.key,tmNode:r})))}),Tt(e.action,r=>r&&[p("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},r),p(oo,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Bo={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};function Eo(e){const{borderRadius:t,textColor2:n,textColorDisabled:o,inputColor:i,inputColorDisabled:s,primaryColor:r,primaryColorHover:a,warningColor:u,warningColorHover:d,errorColor:c,errorColorHover:m,borderColor:T,iconColor:R,iconColorDisabled:w,clearColor:M,clearColorHover:W,clearColorPressed:O,placeholderColor:k,placeholderColorDisabled:F,fontSizeTiny:h,fontSizeSmall:y,fontSizeMedium:_,fontSizeLarge:z,heightTiny:j,heightSmall:Y,heightMedium:B,heightLarge:Q,fontWeight:ie}=e;return Object.assign(Object.assign({},Bo),{fontSizeTiny:h,fontSizeSmall:y,fontSizeMedium:_,fontSizeLarge:z,heightTiny:j,heightSmall:Y,heightMedium:B,heightLarge:Q,borderRadius:t,fontWeight:ie,textColor:n,textColorDisabled:o,placeholderColor:k,placeholderColorDisabled:F,color:i,colorDisabled:s,colorActive:i,border:`1px solid ${T}`,borderHover:`1px solid ${a}`,borderActive:`1px solid ${r}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${Fe(r,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${Fe(r,{alpha:.2})}`,caretColor:r,arrowColor:R,arrowColorDisabled:w,loadingColor:r,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${d}`,borderActiveWarning:`1px solid ${u}`,borderFocusWarning:`1px solid ${d}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${Fe(u,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${Fe(u,{alpha:.2})}`,colorActiveWarning:i,caretColorWarning:u,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${m}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${m}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${Fe(c,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${Fe(c,{alpha:.2})}`,colorActiveError:i,caretColorError:c,clearColor:M,clearColorHover:W,clearColorPressed:O})}const Gt=gt({name:"InternalSelection",common:pt,peers:{Popover:Bn},self:Eo}),$o=ue([D("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[D("base-loading",`
 color: var(--n-loading-color);
 `),D("base-selection-tags","min-height: var(--n-height);"),X("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),X("state-border",`
 z-index: 1;
 border-color: #0000;
 `),D("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[X("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),D("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[X("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),D("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[X("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),D("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),D("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[D("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[X("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),X("render-label",`
 color: var(--n-text-color);
 `)]),dt("disabled",[ue("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),ae("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),ae("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),D("base-selection-label","background-color: var(--n-color-active);"),D("base-selection-tags","background-color: var(--n-color-active);")])]),ae("disabled","cursor: not-allowed;",[X("arrow",`
 color: var(--n-arrow-color-disabled);
 `),D("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[D("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),X("render-label",`
 color: var(--n-text-color-disabled);
 `)]),D("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),D("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),D("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[X("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),X("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>ae(`${e}-status`,[X("state-border",`border: var(--n-border-${e});`),dt("disabled",[ue("&:hover",[X("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),ae("active",[X("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),D("base-selection-label",`background-color: var(--n-color-active-${e});`),D("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),ae("focus",[X("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),D("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),D("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[ue("&:last-child","padding-right: 0;"),D("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[X("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),No=ce({name:"InternalSelection",props:Object.assign(Object.assign({},ke.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=bt(e),o=$t("InternalSelection",n,t),i=I(null),s=I(null),r=I(null),a=I(null),u=I(null),d=I(null),c=I(null),m=I(null),T=I(null),R=I(null),w=I(!1),M=I(!1),W=I(!1),O=ke("InternalSelection","-internal-selection",$o,Gt,e,ne(e,"clsPrefix")),k=K(()=>e.clearable&&!e.disabled&&(W.value||e.active)),F=K(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Oe(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),h=K(()=>{const f=e.selectedOption;if(f)return f[e.labelField]}),y=K(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function _(){var f;const{value:C}=i;if(C){const{value:J}=s;J&&(J.style.width=`${C.offsetWidth}px`,e.maxTagCount!=="responsive"&&((f=T.value)===null||f===void 0||f.sync({showAllItemsBeforeCalculate:!1})))}}function z(){const{value:f}=R;f&&(f.style.display="none")}function j(){const{value:f}=R;f&&(f.style.display="inline-block")}xe(ne(e,"active"),f=>{f||z()}),xe(ne(e,"pattern"),()=>{e.multiple&&vt(_)});function Y(f){const{onFocus:C}=e;C&&C(f)}function B(f){const{onBlur:C}=e;C&&C(f)}function Q(f){const{onDeleteOption:C}=e;C&&C(f)}function ie(f){const{onClear:C}=e;C&&C(f)}function v(f){const{onPatternInput:C}=e;C&&C(f)}function S(f){var C;(!f.relatedTarget||!(!((C=r.value)===null||C===void 0)&&C.contains(f.relatedTarget)))&&Y(f)}function N(f){var C;!((C=r.value)===null||C===void 0)&&C.contains(f.relatedTarget)||B(f)}function G(f){ie(f)}function Z(){W.value=!0}function U(){W.value=!1}function q(f){!e.active||!e.filterable||f.target!==s.value&&f.preventDefault()}function H(f){Q(f)}const ee=I(!1);function g(f){if(f.key==="Backspace"&&!ee.value&&!e.pattern.length){const{selectedOptions:C}=e;C!=null&&C.length&&H(C[C.length-1])}}let x=null;function V(f){const{value:C}=i;if(C){const J=f.target.value;C.textContent=J,_()}e.ignoreComposition&&ee.value?x=f:v(f)}function le(){ee.value=!0}function Ce(){ee.value=!1,e.ignoreComposition&&v(x),x=null}function Se(f){var C;M.value=!0,(C=e.onPatternFocus)===null||C===void 0||C.call(e,f)}function fe(f){var C;M.value=!1,(C=e.onPatternBlur)===null||C===void 0||C.call(e,f)}function re(){var f,C;if(e.filterable)M.value=!1,(f=d.value)===null||f===void 0||f.blur(),(C=s.value)===null||C===void 0||C.blur();else if(e.multiple){const{value:J}=a;J==null||J.blur()}else{const{value:J}=u;J==null||J.blur()}}function Te(){var f,C,J;e.filterable?(M.value=!1,(f=d.value)===null||f===void 0||f.focus()):e.multiple?(C=a.value)===null||C===void 0||C.focus():(J=u.value)===null||J===void 0||J.focus()}function ve(){const{value:f}=s;f&&(j(),f.focus())}function Pe(){const{value:f}=s;f&&f.blur()}function Me(f){const{value:C}=c;C&&C.setTextContent(`+${f}`)}function Ie(){const{value:f}=m;return f}function ze(){return s.value}let pe=null;function be(){pe!==null&&window.clearTimeout(pe)}function Ae(){e.active||(be(),pe=window.setTimeout(()=>{y.value&&(w.value=!0)},100))}function _e(){be()}function Be(f){f||(be(),w.value=!1)}xe(y,f=>{f||(w.value=!1)}),Le(()=>{kn(()=>{const f=d.value;f&&(e.disabled?f.removeAttribute("tabindex"):f.tabIndex=M.value?-1:0)})}),Kt(r,e.onResize);const{inlineThemeDisabled:Re}=e,me=K(()=>{const{size:f}=e,{common:{cubicBezierEaseInOut:C},self:{fontWeight:J,borderRadius:Ye,color:Ze,placeholderColor:We,textColor:De,paddingSingle:Ke,paddingMultiple:Je,caretColor:Qe,colorDisabled:He,textColorDisabled:ge,placeholderColorDisabled:l,colorActive:b,boxShadowFocus:P,boxShadowActive:L,boxShadowHover:E,border:A,borderFocus:$,borderHover:te,borderActive:se,arrowColor:qt,arrowColorDisabled:Xt,loadingColor:Yt,colorActiveWarning:Zt,boxShadowFocusWarning:Jt,boxShadowActiveWarning:Qt,boxShadowHoverWarning:en,borderWarning:tn,borderFocusWarning:nn,borderHoverWarning:on,borderActiveWarning:ln,colorActiveError:rn,boxShadowFocusError:an,boxShadowActiveError:sn,boxShadowHoverError:dn,borderError:un,borderFocusError:cn,borderHoverError:fn,borderActiveError:hn,clearColor:vn,clearColorHover:gn,clearColorPressed:pn,clearSize:bn,arrowSize:mn,[ye("height",f)]:yn,[ye("fontSize",f)]:wn}}=O.value,Ve=$e(Ke),je=$e(Je);return{"--n-bezier":C,"--n-border":A,"--n-border-active":se,"--n-border-focus":$,"--n-border-hover":te,"--n-border-radius":Ye,"--n-box-shadow-active":L,"--n-box-shadow-focus":P,"--n-box-shadow-hover":E,"--n-caret-color":Qe,"--n-color":Ze,"--n-color-active":b,"--n-color-disabled":He,"--n-font-size":wn,"--n-height":yn,"--n-padding-single-top":Ve.top,"--n-padding-multiple-top":je.top,"--n-padding-single-right":Ve.right,"--n-padding-multiple-right":je.right,"--n-padding-single-left":Ve.left,"--n-padding-multiple-left":je.left,"--n-padding-single-bottom":Ve.bottom,"--n-padding-multiple-bottom":je.bottom,"--n-placeholder-color":We,"--n-placeholder-color-disabled":l,"--n-text-color":De,"--n-text-color-disabled":ge,"--n-arrow-color":qt,"--n-arrow-color-disabled":Xt,"--n-loading-color":Yt,"--n-color-active-warning":Zt,"--n-box-shadow-focus-warning":Jt,"--n-box-shadow-active-warning":Qt,"--n-box-shadow-hover-warning":en,"--n-border-warning":tn,"--n-border-focus-warning":nn,"--n-border-hover-warning":on,"--n-border-active-warning":ln,"--n-color-active-error":rn,"--n-box-shadow-focus-error":an,"--n-box-shadow-active-error":sn,"--n-box-shadow-hover-error":dn,"--n-border-error":un,"--n-border-focus-error":cn,"--n-border-hover-error":fn,"--n-border-active-error":hn,"--n-clear-size":bn,"--n-clear-color":vn,"--n-clear-color-hover":gn,"--n-clear-color-pressed":pn,"--n-arrow-size":mn,"--n-font-weight":J}}),oe=Re?mt("internal-selection",K(()=>e.size[0]),me,e):void 0;return{mergedTheme:O,mergedClearable:k,mergedClsPrefix:t,rtlEnabled:o,patternInputFocused:M,filterablePlaceholder:F,label:h,selected:y,showTagsPanel:w,isComposing:ee,counterRef:c,counterWrapperRef:m,patternInputMirrorRef:i,patternInputRef:s,selfRef:r,multipleElRef:a,singleElRef:u,patternInputWrapperRef:d,overflowRef:T,inputTagElRef:R,handleMouseDown:q,handleFocusin:S,handleClear:G,handleMouseEnter:Z,handleMouseLeave:U,handleDeleteOption:H,handlePatternKeyDown:g,handlePatternInputInput:V,handlePatternInputBlur:fe,handlePatternInputFocus:Se,handleMouseEnterCounter:Ae,handleMouseLeaveCounter:_e,handleFocusout:N,handleCompositionEnd:Ce,handleCompositionStart:le,onPopoverUpdateShow:Be,focus:Te,focusInput:ve,blur:re,blurInput:Pe,updateCounter:Me,getCounter:Ie,getTail:ze,renderLabel:e.renderLabel,cssVars:Re?void 0:me,themeClass:oe==null?void 0:oe.themeClass,onRender:oe==null?void 0:oe.onRender}},render(){const{status:e,multiple:t,size:n,disabled:o,filterable:i,maxTagCount:s,bordered:r,clsPrefix:a,ellipsisTagPopoverProps:u,onRender:d,renderTag:c,renderLabel:m}=this;d==null||d();const T=s==="responsive",R=typeof s=="number",w=T||R,M=p(Kn,null,{default:()=>p(Hn,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var O,k;return(k=(O=this.$slots).arrow)===null||k===void 0?void 0:k.call(O)}})});let W;if(t){const{labelField:O}=this,k=v=>p("div",{class:`${a}-base-selection-tag-wrapper`,key:v.value},c?c({option:v,handleClose:()=>{this.handleDeleteOption(v)}}):p(tt,{size:n,closable:!v.disabled,disabled:o,onClose:()=>{this.handleDeleteOption(v)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>m?m(v,!0):Oe(v[O],v,!0)})),F=()=>(R?this.selectedOptions.slice(0,s):this.selectedOptions).map(k),h=i?p("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),p("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,y=T?()=>p("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},p(tt,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let _;if(R){const v=this.selectedOptions.length-s;v>0&&(_=p("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},p(tt,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>`+${v}`})))}const z=T?i?p(kt,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:F,counter:y,tail:()=>h}):p(kt,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:F,counter:y}):R&&_?F().concat(_):F(),j=w?()=>p("div",{class:`${a}-base-selection-popover`},T?F():this.selectedOptions.map(k)):void 0,Y=w?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},u):null,Q=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},p("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,ie=i?p("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},z,T?null:h,M):p("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:o?void 0:0},z,M);W=p(On,null,w?p(En,Object.assign({},Y,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>ie,default:j}):ie,Q)}else if(i){const O=this.pattern||this.isComposing,k=this.active?!O:!this.selected,F=this.active?!1:this.selected;W=p("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`,title:this.patternInputFocused?void 0:Pt(this.label)},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),F?p("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},p("div",{class:`${a}-base-selection-overlay__wrapper`},c?c({option:this.selectedOption,handleClose:()=>{}}):m?m(this.selectedOption,!0):Oe(this.label,this.selectedOption,!0))):null,k?p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,M)}else W=p("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?p("div",{class:`${a}-base-selection-input`,title:Pt(this.label),key:"input"},p("div",{class:`${a}-base-selection-input__content`},c?c({option:this.selectedOption,handleClose:()=>{}}):m?m(this.selectedOption,!0):Oe(this.label,this.selectedOption,!0))):p("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),M);return p("div",{ref:"selfRef",class:[`${a}-base-selection`,this.rtlEnabled&&`${a}-base-selection--rtl`,this.themeClass,e&&`${a}-base-selection--${e}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},W,r?p("div",{class:`${a}-base-selection__border`}):null,r?p("div",{class:`${a}-base-selection__state-border`}):null)}});function Xe(e){return e.type==="group"}function Ut(e){return e.type==="ignored"}function at(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function Lo(e,t){return{getIsGroup:Xe,getIgnored:Ut,getKey(o){return Xe(o)?o.name||o.key||"key-required":o[e]},getChildren(o){return o[t]}}}function Wo(e,t,n,o){if(!t)return e;function i(s){if(!Array.isArray(s))return[];const r=[];for(const a of s)if(Xe(a)){const u=i(a[o]);u.length&&r.push(Object.assign({},a,{[o]:u}))}else{if(Ut(a))continue;t(n,a)&&r.push(a)}return r}return i(e)}function Do(e,t,n){const o=new Map;return e.forEach(i=>{Xe(i)?i[n].forEach(s=>{o.set(s[t],s)}):o.set(i[t],i)}),o}function Ko(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const Ho=gt({name:"Select",common:pt,peers:{InternalSelection:Gt,InternalSelectMenu:jt},self:Ko}),Vo=ue([D("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 font-weight: var(--n-font-weight);
 `),D("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Nt({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),jo=Object.assign(Object.assign({},ke.props),{to:ut.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),ni=ce({name:"Select",props:jo,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:o,inlineThemeDisabled:i}=bt(e),s=ke("Select","-select",Vo,Ho,e,t),r=I(e.defaultValue),a=ne(e,"value"),u=St(a,r),d=I(!1),c=I(""),m=qn(e,["items","options"]),T=I([]),R=I([]),w=K(()=>R.value.concat(T.value).concat(m.value)),M=K(()=>{const{filter:l}=e;if(l)return l;const{labelField:b,valueField:P}=e;return(L,E)=>{if(!E)return!1;const A=E[b];if(typeof A=="string")return at(L,A);const $=E[P];return typeof $=="string"?at(L,$):typeof $=="number"?at(L,String($)):!1}}),W=K(()=>{if(e.remote)return m.value;{const{value:l}=w,{value:b}=c;return!b.length||!e.filterable?l:Wo(l,M.value,b,e.childrenField)}}),O=K(()=>{const{valueField:l,childrenField:b}=e,P=Lo(l,b);return Po(W.value,P)}),k=K(()=>Do(w.value,e.valueField,e.childrenField)),F=I(!1),h=St(ne(e,"show"),F),y=I(null),_=I(null),z=I(null),{localeRef:j}=Xn("Select"),Y=K(()=>{var l;return(l=e.placeholder)!==null&&l!==void 0?l:j.value.placeholder}),B=[],Q=I(new Map),ie=K(()=>{const{fallbackOption:l}=e;if(l===void 0){const{labelField:b,valueField:P}=e;return L=>({[b]:String(L),[P]:L})}return l===!1?!1:b=>Object.assign(l(b),{value:b})});function v(l){const b=e.remote,{value:P}=Q,{value:L}=k,{value:E}=ie,A=[];return l.forEach($=>{if(L.has($))A.push(L.get($));else if(b&&P.has($))A.push(P.get($));else if(E){const te=E($);te&&A.push(te)}}),A}const S=K(()=>{if(e.multiple){const{value:l}=u;return Array.isArray(l)?v(l):[]}return null}),N=K(()=>{const{value:l}=u;return!e.multiple&&!Array.isArray(l)?l===null?null:v([l])[0]||null:null}),G=Yn(e),{mergedSizeRef:Z,mergedDisabledRef:U,mergedStatusRef:q}=G;function H(l,b){const{onChange:P,"onUpdate:value":L,onUpdateValue:E}=e,{nTriggerFormChange:A,nTriggerFormInput:$}=G;P&&de(P,l,b),E&&de(E,l,b),L&&de(L,l,b),r.value=l,A(),$()}function ee(l){const{onBlur:b}=e,{nTriggerFormBlur:P}=G;b&&de(b,l),P()}function g(){const{onClear:l}=e;l&&de(l)}function x(l){const{onFocus:b,showOnFocus:P}=e,{nTriggerFormFocus:L}=G;b&&de(b,l),L(),P&&fe()}function V(l){const{onSearch:b}=e;b&&de(b,l)}function le(l){const{onScroll:b}=e;b&&de(b,l)}function Ce(){var l;const{remote:b,multiple:P}=e;if(b){const{value:L}=Q;if(P){const{valueField:E}=e;(l=S.value)===null||l===void 0||l.forEach(A=>{L.set(A[E],A)})}else{const E=N.value;E&&L.set(E[e.valueField],E)}}}function Se(l){const{onUpdateShow:b,"onUpdate:show":P}=e;b&&de(b,l),P&&de(P,l),F.value=l}function fe(){U.value||(Se(!0),F.value=!0,e.filterable&&Ke())}function re(){Se(!1)}function Te(){c.value="",R.value=B}const ve=I(!1);function Pe(){e.filterable&&(ve.value=!0)}function Me(){e.filterable&&(ve.value=!1,h.value||Te())}function Ie(){U.value||(h.value?e.filterable?Ke():re():fe())}function ze(l){var b,P;!((P=(b=z.value)===null||b===void 0?void 0:b.selfRef)===null||P===void 0)&&P.contains(l.relatedTarget)||(d.value=!1,ee(l),re())}function pe(l){x(l),d.value=!0}function be(){d.value=!0}function Ae(l){var b;!((b=y.value)===null||b===void 0)&&b.$el.contains(l.relatedTarget)||(d.value=!1,ee(l),re())}function _e(){var l;(l=y.value)===null||l===void 0||l.focus(),re()}function Be(l){var b;h.value&&(!((b=y.value)===null||b===void 0)&&b.$el.contains(Vn(l))||re())}function Re(l){if(!Array.isArray(l))return[];if(ie.value)return Array.from(l);{const{remote:b}=e,{value:P}=k;if(b){const{value:L}=Q;return l.filter(E=>P.has(E)||L.has(E))}else return l.filter(L=>P.has(L))}}function me(l){oe(l.rawNode)}function oe(l){if(U.value)return;const{tag:b,remote:P,clearFilterAfterSelect:L,valueField:E}=e;if(b&&!P){const{value:A}=R,$=A[0]||null;if($){const te=T.value;te.length?te.push($):T.value=[$],R.value=B}}if(P&&Q.value.set(l[E],l),e.multiple){const A=Re(u.value),$=A.findIndex(te=>te===l[E]);if(~$){if(A.splice($,1),b&&!P){const te=f(l[E]);~te&&(T.value.splice(te,1),L&&(c.value=""))}}else A.push(l[E]),L&&(c.value="");H(A,v(A))}else{if(b&&!P){const A=f(l[E]);~A?T.value=[T.value[A]]:T.value=B}De(),re(),H(l[E],l)}}function f(l){return T.value.findIndex(P=>P[e.valueField]===l)}function C(l){h.value||fe();const{value:b}=l.target;c.value=b;const{tag:P,remote:L}=e;if(V(b),P&&!L){if(!b){R.value=B;return}const{onCreate:E}=e,A=E?E(b):{[e.labelField]:b,[e.valueField]:b},{valueField:$,labelField:te}=e;m.value.some(se=>se[$]===A[$]||se[te]===A[te])||T.value.some(se=>se[$]===A[$]||se[te]===A[te])?R.value=B:R.value=[A]}}function J(l){l.stopPropagation();const{multiple:b}=e;!b&&e.filterable&&re(),g(),b?H([],[]):H(null,null)}function Ye(l){!Ne(l,"action")&&!Ne(l,"empty")&&!Ne(l,"header")&&l.preventDefault()}function Ze(l){le(l)}function We(l){var b,P,L,E,A;if(!e.keyboard){l.preventDefault();return}switch(l.key){case" ":if(e.filterable)break;l.preventDefault();case"Enter":if(!(!((b=y.value)===null||b===void 0)&&b.isComposing)){if(h.value){const $=(P=z.value)===null||P===void 0?void 0:P.getPendingTmNode();$?me($):e.filterable||(re(),De())}else if(fe(),e.tag&&ve.value){const $=R.value[0];if($){const te=$[e.valueField],{value:se}=u;e.multiple&&Array.isArray(se)&&se.includes(te)||oe($)}}}l.preventDefault();break;case"ArrowUp":if(l.preventDefault(),e.loading)return;h.value&&((L=z.value)===null||L===void 0||L.prev());break;case"ArrowDown":if(l.preventDefault(),e.loading)return;h.value?(E=z.value)===null||E===void 0||E.next():fe();break;case"Escape":h.value&&(zn(l),re()),(A=y.value)===null||A===void 0||A.focus();break}}function De(){var l;(l=y.value)===null||l===void 0||l.focus()}function Ke(){var l;(l=y.value)===null||l===void 0||l.focusInput()}function Je(){var l;h.value&&((l=_.value)===null||l===void 0||l.syncPosition())}Ce(),xe(ne(e,"options"),Ce);const Qe={focus:()=>{var l;(l=y.value)===null||l===void 0||l.focus()},focusInput:()=>{var l;(l=y.value)===null||l===void 0||l.focusInput()},blur:()=>{var l;(l=y.value)===null||l===void 0||l.blur()},blurInput:()=>{var l;(l=y.value)===null||l===void 0||l.blurInput()}},He=K(()=>{const{self:{menuBoxShadow:l}}=s.value;return{"--n-menu-box-shadow":l}}),ge=i?mt("select",void 0,He,e):void 0;return Object.assign(Object.assign({},Qe),{mergedStatus:q,mergedClsPrefix:t,mergedBordered:n,namespace:o,treeMate:O,isMounted:In(),triggerRef:y,menuRef:z,pattern:c,uncontrolledShow:F,mergedShow:h,adjustedTo:ut(e),uncontrolledValue:r,mergedValue:u,followerRef:_,localizedPlaceholder:Y,selectedOption:N,selectedOptions:S,mergedSize:Z,mergedDisabled:U,focused:d,activeWithoutMenuOpen:ve,inlineThemeDisabled:i,onTriggerInputFocus:Pe,onTriggerInputBlur:Me,handleTriggerOrMenuResize:Je,handleMenuFocus:be,handleMenuBlur:Ae,handleMenuTabOut:_e,handleTriggerClick:Ie,handleToggle:me,handleDeleteOption:oe,handlePatternInput:C,handleClear:J,handleTriggerBlur:ze,handleTriggerFocus:pe,handleKeydown:We,handleMenuAfterLeave:Te,handleMenuClickOutside:Be,handleMenuScroll:Ze,handleMenuKeydown:We,handleMenuMousedown:Ye,mergedTheme:s,cssVars:i?void 0:He,themeClass:ge==null?void 0:ge.themeClass,onRender:ge==null?void 0:ge.onRender})},render(){return p("div",{class:`${this.mergedClsPrefix}-select`},p($n,null,{default:()=>[p(Nn,null,{default:()=>p(No,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),p(Ln,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===ut.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>p(Et,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Pn(p(_o,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,i;return[(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)]},header:()=>{var o,i;return[(i=(o=this.$slots).header)===null||i===void 0?void 0:i.call(o)]},action:()=>{var o,i;return[(i=(o=this.$slots).action)===null||i===void 0?void 0:i.call(o)]}}),this.displayDirective==="show"?[[Mn,this.mergedShow],[xt,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[xt,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}});export{oo as F,_o as N,eo as V,ni as _,Lo as a,Po as c,Pt as g,Ne as h,jt as i,ot as m,Ho as s};
