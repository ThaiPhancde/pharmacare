import{P as xr,r as F,U as Sr,ad as ar,h as H,o as z,i as J,p as Rr,t as L,a1 as Ar,aI as Pr,az as Tr,a as Mr,g as w,e as S,w as T,u as E,X as ye,y as Ir,k as G,b as Dr,b3 as kr,a0 as ne}from"./CKxg9VfS.js";import{c as Br,_ as Cr,a as qr,b as jr}from"./y658cYhg.js";import{_ as Nr}from"./tYwaLfcc.js";import{B as Lr}from"./BB3-CH1i.js";import{g as $r}from"./CqkleIqs.js";import{a as Z}from"./Bjtksisr.js";import{u as Gr}from"./Bpf85daN.js";import{B as Ur}from"./CkclNe_0.js";import{E as Fr}from"./DER0kI1M.js";import{P as zr}from"./CZYgztcZ.js";import{T as Hr}from"./HXfFxbHn.js";import{_ as Xr}from"./CWYSDPom.js";import{_ as Vr}from"./B6-CO9cE.js";import{_ as Jr}from"./BjVYSpcv.js";import{_ as Kr}from"./DpFlcqSt.js";import{_ as Qr}from"./BHMcXTSu.js";import{_ as Wr}from"./BpvOLQCW.js";import{_ as Yr}from"./DC7NDAF6.js";import"./DZHg-zPW.js";import"./CtxRJYhM.js";import"./DZiD_n4a.js";import"./8F3V6at2.js";import"./B1BtpM6Q.js";import"./BPEFIfMV.js";import"./ChOKVcqp.js";import"./CqMkjHLC.js";import"./CHIgUVhi.js";import"./Bk27txv5.js";import"./-VWu3lWq.js";import"./DWe5xPtV.js";import"./DxI7QMRn.js";import"./mUUuLyVv.js";import"./CbhVS3Xc.js";import"./Be7d-GBD.js";import"./Bt2YpT3E.js";import"./HiGXOwLp.js";import"./gy6MXjwN.js";import"./ChAwXecA.js";import"./DDBjNozI.js";import"./BH030lJW.js";import"./Be3VPoHw.js";import"./DboHdRIr.js";import"./CMIqKt_m.js";import"./BUV3okvS.js";import"./CeAEZXwI.js";var ge={},ae={},me={},ut;function $(){if(ut)return me;ut=1,Object.defineProperty(me,"__esModule",{value:!0});function p(v,f){if(!(v instanceof f))throw new TypeError("Cannot call a class as a function")}var d=function v(f,s){p(this,v),this.data=f,this.text=s.text||f,this.options=s};return me.default=d,me}var ft;function Zr(){if(ft)return ae;ft=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.CODE39=void 0;var p=function(){function u(y,g){for(var m=0;m<g.length;m++){var A=g[m];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,g,m){return g&&u(y.prototype,g),m&&u(y,m),y}}(),d=$(),v=f(d);function f(u){return u&&u.__esModule?u:{default:u}}function s(u,y){if(!(u instanceof y))throw new TypeError("Cannot call a class as a function")}function h(u,y){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:u}function c(u,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);u.prototype=Object.create(y&&y.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(u,y):u.__proto__=y)}var l=function(u){c(y,u);function y(g,m){return s(this,y),g=g.toUpperCase(),m.mod43&&(g+=r(o(g))),h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,g,m))}return p(y,[{key:"encode",value:function(){for(var m=e("*"),A=0;A<this.data.length;A++)m+=e(this.data[A])+"0";return m+=e("*"),{data:m,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),y}(v.default),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],t=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function e(u){return n(a(u))}function n(u){return t[u].toString(2)}function r(u){return i[u]}function a(u){return i.indexOf(u)}function o(u){for(var y=0,g=0;g<u.length;g++)y+=a(u[g]);return y=y%43,y}return ae.CODE39=l,ae}var U={},Ee={},be={},B={},lt;function ce(){if(lt)return B;lt=1,Object.defineProperty(B,"__esModule",{value:!0});var p;function d(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var v=B.SET_A=0,f=B.SET_B=1,s=B.SET_C=2;B.SHIFT=98;var h=B.START_A=103,c=B.START_B=104,l=B.START_C=105;return B.MODULO=103,B.STOP=106,B.FNC1=207,B.SET_BY_CODE=(p={},d(p,h,v),d(p,c,f),d(p,l,s),p),B.SWAP={101:v,100:f,99:s},B.A_START_CHAR="Ð",B.B_START_CHAR="Ñ",B.C_START_CHAR="Ò",B.A_CHARS="[\0-_È-Ï]",B.B_CHARS="[ -È-Ï]",B.C_CHARS="(Ï*[0-9]{2}Ï*)",B.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],B}var ct;function Ye(){if(ct)return be;ct=1,Object.defineProperty(be,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=$(),v=s(d),f=ce();function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){h(this,e);var a=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),a}return p(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,o=f.SET_BY_CODE[a];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(f.FNC1);var u=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+u.result+e.getBar((u.checksum+a)%f.MODULO)+e.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return f.BARS[r]?f.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===f.SET_A){var o=r.shift();return o<32?o+64:o-32}else return a===f.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,o){if(!r.length)return{result:"",checksum:0};var u=void 0,y=void 0;if(r[0]>=200){y=r.shift()-105;var g=f.SWAP[y];g!==void 0?u=e.next(r,a+1,g):((o===f.SET_A||o===f.SET_B)&&y===f.SHIFT&&(r[0]=o===f.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),u=e.next(r,a+1,o))}else y=e.correctIndex(r,o),u=e.next(r,a+1,o);var m=e.getBar(y),A=y*a;return{result:m+u.result,checksum:A+u.checksum}}}]),e}(v.default);return be.default=i,be}var Oe={},dt;function en(){if(dt)return Oe;dt=1,Object.defineProperty(Oe,"__esModule",{value:!0});var p=ce(),d=function(l){return l.match(new RegExp("^"+p.A_CHARS+"*"))[0].length},v=function(l){return l.match(new RegExp("^"+p.B_CHARS+"*"))[0].length},f=function(l){return l.match(new RegExp("^"+p.C_CHARS+"*"))[0]};function s(c,l){var i=l?p.A_CHARS:p.B_CHARS,t=c.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(t)return t[1]+"Ì"+h(c.substring(t[1].length));var e=c.match(new RegExp("^"+i+"+"))[0];return e.length===c.length?c:e+String.fromCharCode(l?205:206)+s(c.substring(e.length),!l)}function h(c){var l=f(c),i=l.length;if(i===c.length)return c;c=c.substring(i);var t=d(c)>=v(c);return l+String.fromCharCode(t?206:205)+s(c,t)}return Oe.default=function(c){var l=void 0,i=f(c).length;if(i>=2)l=p.C_START_CHAR+h(c);else{var t=d(c)>v(c);l=(t?p.A_START_CHAR:p.B_START_CHAR)+s(c,t)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,n){return"Ë"+n})},Oe}var st;function tn(){if(st)return Ee;st=1,Object.defineProperty(Ee,"__esModule",{value:!0});var p=Ye(),d=s(p),v=en(),f=s(v);function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){if(h(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,f.default)(n),r));else var a=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return c(a)}return e}(d.default);return Ee.default=i,Ee}var we={},ht;function rn(){if(ht)return we;ht=1,Object.defineProperty(we,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=Ye(),v=s(d),f=ce();function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.A_START_CHAR+n,r))}return p(e,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),e}(v.default);return we.default=i,we}var xe={},vt;function nn(){if(vt)return xe;vt=1,Object.defineProperty(xe,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=Ye(),v=s(d),f=ce();function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.B_START_CHAR+n,r))}return p(e,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),e}(v.default);return xe.default=i,xe}var Se={},_t;function an(){if(_t)return Se;_t=1,Object.defineProperty(Se,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=Ye(),v=s(d),f=ce();function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.C_START_CHAR+n,r))}return p(e,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),e}(v.default);return Se.default=i,Se}var pt;function on(){if(pt)return U;pt=1,Object.defineProperty(U,"__esModule",{value:!0}),U.CODE128C=U.CODE128B=U.CODE128A=U.CODE128=void 0;var p=tn(),d=i(p),v=rn(),f=i(v),s=nn(),h=i(s),c=an(),l=i(c);function i(t){return t&&t.__esModule?t:{default:t}}return U.CODE128=d.default,U.CODE128A=f.default,U.CODE128B=h.default,U.CODE128C=l.default,U}var C={},Re={},V={},yt;function de(){return yt||(yt=1,Object.defineProperty(V,"__esModule",{value:!0}),V.SIDE_BIN="101",V.MIDDLE_BIN="01010",V.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},V.EAN2_STRUCTURE=["LL","LG","GL","GG"],V.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],V.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),V}var Ae={},Pe={},gt;function se(){if(gt)return Pe;gt=1,Object.defineProperty(Pe,"__esModule",{value:!0});var p=de(),d=function(f,s,h){var c=f.split("").map(function(i,t){return p.BINARIES[s[t]]}).map(function(i,t){return i?i[f[t]]:""});if(h){var l=f.length-1;c=c.map(function(i,t){return t<l?i+h:i})}return c.join("")};return Pe.default=d,Pe}var mt;function ir(){if(mt)return Ae;mt=1,Object.defineProperty(Ae,"__esModule",{value:!0});var p=function(){function n(r,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,a,o){return a&&n(r.prototype,a),o&&n(r,o),r}}(),d=de(),v=se(),f=c(v),s=$(),h=c(s);function c(n){return n&&n.__esModule?n:{default:n}}function l(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(a,o){l(this,r);var u=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,o));return u.fontSize=!o.flat&&o.fontSize>o.width*10?o.width*10:o.fontSize,u.guardHeight=o.height+u.fontSize/2+o.textMargin,u}return p(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(o,u){return this.text.substr(o,u)}},{key:"leftEncode",value:function(o,u){return(0,f.default)(o,u)}},{key:"rightText",value:function(o,u){return this.text.substr(o,u)}},{key:"rightEncode",value:function(o,u){return(0,f.default)(o,u)}},{key:"encodeGuarded",value:function(){var o={fontSize:this.fontSize},u={height:this.guardHeight};return[{data:d.SIDE_BIN,options:u},{data:this.leftEncode(),text:this.leftText(),options:o},{data:d.MIDDLE_BIN,options:u},{data:this.rightEncode(),text:this.rightText(),options:o},{data:d.SIDE_BIN,options:u}]}},{key:"encodeFlat",value:function(){var o=[d.SIDE_BIN,this.leftEncode(),d.MIDDLE_BIN,this.rightEncode(),d.SIDE_BIN];return{data:o.join(""),text:this.text}}}]),r}(h.default);return Ae.default=e,Ae}var Et;function un(){if(Et)return Re;Et=1,Object.defineProperty(Re,"__esModule",{value:!0});var p=function(){function n(r,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,a,o){return a&&n(r.prototype,a),o&&n(r,o),r}}(),d=function n(r,a,o){r===null&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,a);if(u===void 0){var y=Object.getPrototypeOf(r);return y===null?void 0:n(y,a,o)}else{if("value"in u)return u.value;var g=u.get;return g===void 0?void 0:g.call(o)}},v=de(),f=ir(),s=h(f);function h(n){return n&&n.__esModule?n:{default:n}}function c(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function l(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(r){var a=r.substr(0,12).split("").map(function(o){return+o}).reduce(function(o,u,y){return y%2?o+u*3:o+u},0);return(10-a%10)%10},e=function(n){i(r,n);function r(a,o){c(this,r),a.search(/^[0-9]{12}$/)!==-1&&(a+=t(a));var u=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,o));return u.lastChar=o.lastChar,u}return p(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===t(this.data)}},{key:"leftText",value:function(){return d(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var o=this.data.substr(1,6),u=v.EAN13_STRUCTURE[this.data[0]];return d(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,o,u)}},{key:"rightText",value:function(){return d(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var o=this.data.substr(7,6);return d(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,o,"RRRRRR")}},{key:"encodeGuarded",value:function(){var o=d(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(o.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(o.push({data:"00"}),o.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),o}}]),r}(s.default);return Re.default=e,Re}var Te={},bt;function fn(){if(bt)return Te;bt=1,Object.defineProperty(Te,"__esModule",{value:!0});var p=function(){function e(n,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,r,a){return r&&e(n.prototype,r),a&&e(n,a),n}}(),d=function e(n,r,a){n===null&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,r);if(o===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:e(u,r,a)}else{if("value"in o)return o.value;var y=o.get;return y===void 0?void 0:y.call(a)}},v=ir(),f=s(v);function s(e){return e&&e.__esModule?e:{default:e}}function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function l(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=function(n){var r=n.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,o,u){return u%2?a+o:a+o*3},0);return(10-r%10)%10},t=function(e){l(n,e);function n(r,a){return h(this,n),r.search(/^[0-9]{7}$/)!==-1&&(r+=i(r)),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,a))}return p(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===i(this.data)}},{key:"leftText",value:function(){return d(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var a=this.data.substr(0,4);return d(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,a,"LLLL")}},{key:"rightText",value:function(){return d(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var a=this.data.substr(4,4);return d(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,a,"RRRR")}}]),n}(f.default);return Te.default=t,Te}var Me={},Ot;function ln(){if(Ot)return Me;Ot=1,Object.defineProperty(Me,"__esModule",{value:!0});var p=function(){function r(a,o){for(var u=0;u<o.length;u++){var y=o[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}return function(a,o,u){return o&&r(a.prototype,o),u&&r(a,u),a}}(),d=de(),v=se(),f=c(v),s=$(),h=c(s);function c(r){return r&&r.__esModule?r:{default:r}}function l(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function i(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function t(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var e=function(a){var o=a.split("").map(function(u){return+u}).reduce(function(u,y,g){return g%2?u+y*9:u+y*3},0);return o%10},n=function(r){t(a,r);function a(o,u){return l(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,u))}return p(a,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var u=d.EAN5_STRUCTURE[e(this.data)];return{data:"1011"+(0,f.default)(this.data,u,"01"),text:this.text}}}]),a}(h.default);return Me.default=n,Me}var Ie={},wt;function cn(){if(wt)return Ie;wt=1,Object.defineProperty(Ie,"__esModule",{value:!0});var p=function(){function n(r,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,a,o){return a&&n(r.prototype,a),o&&n(r,o),r}}(),d=de(),v=se(),f=c(v),s=$(),h=c(s);function c(n){return n&&n.__esModule?n:{default:n}}function l(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(a,o){return l(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,o))}return p(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var o=d.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,f.default)(this.data,o,"01"),text:this.text}}}]),r}(h.default);return Ie.default=e,Ie}var ie={},xt;function or(){if(xt)return ie;xt=1,Object.defineProperty(ie,"__esModule",{value:!0});var p=function(){function n(r,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,a,o){return a&&n(r.prototype,a),o&&n(r,o),r}}();ie.checksum=e;var d=se(),v=h(d),f=$(),s=h(f);function h(n){return n&&n.__esModule?n:{default:n}}function c(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function l(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(n){i(r,n);function r(a,o){c(this,r),a.search(/^[0-9]{11}$/)!==-1&&(a+=e(a));var u=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a,o));return u.displayValue=o.displayValue,o.fontSize>o.width*10?u.fontSize=o.width*10:u.fontSize=o.fontSize,u.guardHeight=o.height+u.fontSize/2+o.textMargin,u}return p(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==e(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var o="";return o+="101",o+=(0,v.default)(this.data.substr(0,6),"LLLLLL"),o+="01010",o+=(0,v.default)(this.data.substr(6,6),"RRRRRR"),o+="101",{data:o,text:this.text}}},{key:"guardedEncoding",value:function(){var o=[];return this.displayValue&&o.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),o.push({data:"101"+(0,v.default)(this.data[0],"L"),options:{height:this.guardHeight}}),o.push({data:(0,v.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),o.push({data:"01010",options:{height:this.guardHeight}}),o.push({data:(0,v.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),o.push({data:(0,v.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&o.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),o}}]),r}(s.default);function e(n){var r=0,a;for(a=1;a<11;a+=2)r+=parseInt(n[a]);for(a=0;a<11;a+=2)r+=parseInt(n[a])*3;return(10-r%10)%10}return ie.default=t,ie}var De={},St;function dn(){if(St)return De;St=1,Object.defineProperty(De,"__esModule",{value:!0});var p=function(){function o(u,y){for(var g=0;g<y.length;g++){var m=y[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,y,g){return y&&o(u.prototype,y),g&&o(u,g),u}}(),d=se(),v=c(d),f=$(),s=c(f),h=or();function c(o){return o&&o.__esModule?o:{default:o}}function l(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function i(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function t(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var e=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],n=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=function(o){t(u,o);function u(y,g){l(this,u);var m=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,y,g));if(m.isValid=!1,y.search(/^[0-9]{6}$/)!==-1)m.middleDigits=y,m.upcA=a(y,"0"),m.text=g.text||""+m.upcA[0]+y+m.upcA[m.upcA.length-1],m.isValid=!0;else if(y.search(/^[01][0-9]{7}$/)!==-1)if(m.middleDigits=y.substring(1,y.length-1),m.upcA=a(m.middleDigits,y[0]),m.upcA[m.upcA.length-1]===y[y.length-1])m.isValid=!0;else return i(m);else return i(m);return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return p(u,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=this.encodeMiddleDigits(),g+="010101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101",options:{height:this.guardHeight}}),g.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),g.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),g}},{key:"encodeMiddleDigits",value:function(){var g=this.upcA[0],m=this.upcA[this.upcA.length-1],A=n[parseInt(m)][parseInt(g)];return(0,v.default)(this.middleDigits,A)}}]),u}(s.default);function a(o,u){for(var y=parseInt(o[o.length-1]),g=e[y],m="",A=0,K=0;K<g.length;K++){var W=g[K];W==="X"?m+=o[A++]:m+=W}return m=""+u+m,""+m+(0,h.checksum)(m)}return De.default=r,De}var Rt;function sn(){if(Rt)return C;Rt=1,Object.defineProperty(C,"__esModule",{value:!0}),C.UPCE=C.UPC=C.EAN2=C.EAN5=C.EAN8=C.EAN13=void 0;var p=un(),d=r(p),v=fn(),f=r(v),s=ln(),h=r(s),c=cn(),l=r(c),i=or(),t=r(i),e=dn(),n=r(e);function r(a){return a&&a.__esModule?a:{default:a}}return C.EAN13=d.default,C.EAN8=f.default,C.EAN5=h.default,C.EAN2=l.default,C.UPC=t.default,C.UPCE=n.default,C}var Q={},ke={},ee={},At;function hn(){return At||(At=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.START_BIN="1010",ee.END_BIN="11101",ee.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),ee}var Pt;function ur(){if(Pt)return ke;Pt=1,Object.defineProperty(ke,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=hn(),v=$(),f=s(v);function s(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:d.START_BIN+a+d.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=d.BINARIES[r[1]];return d.BINARIES[r[0]].split("").map(function(o,u){return(o==="1"?"111":"1")+(a[u]==="1"?"000":"0")}).join("")}}]),e}(f.default);return ke.default=i,ke}var Be={},Tt;function vn(){if(Tt)return Be;Tt=1,Object.defineProperty(Be,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=ur(),v=f(d);function f(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,o){return r+a*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},i=function(t){c(e,t);function e(n,r){return s(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=l(n)),h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return p(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),e}(v.default);return Be.default=i,Be}var Mt;function _n(){if(Mt)return Q;Mt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.ITF14=Q.ITF=void 0;var p=ur(),d=s(p),v=vn(),f=s(v);function s(h){return h&&h.__esModule?h:{default:h}}return Q.ITF=d.default,Q.ITF14=f.default,Q}var j={},Ce={},It;function he(){if(It)return Ce;It=1,Object.defineProperty(Ce,"__esModule",{value:!0});var p=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=$(),v=f(d);function f(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){c(e,t);function e(n,r){return s(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return p(e,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var o=parseInt(this.data[a]),u=o.toString(2);u=i(u,4-u.length);for(var y=0;y<u.length;y++)r+=u[y]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(v.default);function i(t,e){for(var n=0;n<e;n++)t="0"+t;return t}return Ce.default=l,Ce}var qe={},oe={},Dt;function Ze(){if(Dt)return oe;Dt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.mod10=p,oe.mod11=d;function p(v){for(var f=0,s=0;s<v.length;s++){var h=parseInt(v[s]);(s+v.length)%2===0?f+=h:f+=h*2%10+Math.floor(h*2/10)}return(10-f%10)%10}function d(v){for(var f=0,s=[2,3,4,5,6,7],h=0;h<v.length;h++){var c=parseInt(v[v.length-1-h]);f+=s[h%s.length]*c}return(11-f%11)%11}return oe}var kt;function pn(){if(kt)return qe;kt=1,Object.defineProperty(qe,"__esModule",{value:!0});var p=he(),d=f(p),v=Ze();function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){return s(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,v.mod10)(e),n))}return t}(d.default);return qe.default=l,qe}var je={},Bt;function yn(){if(Bt)return je;Bt=1,Object.defineProperty(je,"__esModule",{value:!0});var p=he(),d=f(p),v=Ze();function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){return s(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,v.mod11)(e),n))}return t}(d.default);return je.default=l,je}var Ne={},Ct;function gn(){if(Ct)return Ne;Ct=1,Object.defineProperty(Ne,"__esModule",{value:!0});var p=he(),d=f(p),v=Ze();function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){return s(this,t),e+=(0,v.mod10)(e),e+=(0,v.mod10)(e),h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(d.default);return Ne.default=l,Ne}var Le={},qt;function mn(){if(qt)return Le;qt=1,Object.defineProperty(Le,"__esModule",{value:!0});var p=he(),d=f(p),v=Ze();function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){return s(this,t),e+=(0,v.mod11)(e),e+=(0,v.mod10)(e),h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(d.default);return Le.default=l,Le}var jt;function En(){if(jt)return j;jt=1,Object.defineProperty(j,"__esModule",{value:!0}),j.MSI1110=j.MSI1010=j.MSI11=j.MSI10=j.MSI=void 0;var p=he(),d=e(p),v=pn(),f=e(v),s=yn(),h=e(s),c=gn(),l=e(c),i=mn(),t=e(i);function e(n){return n&&n.__esModule?n:{default:n}}return j.MSI=d.default,j.MSI10=f.default,j.MSI11=h.default,j.MSI1010=l.default,j.MSI1110=t.default,j}var ue={},Nt;function bn(){if(Nt)return ue;Nt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.pharmacode=void 0;var p=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),d=$(),v=f(d);function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){s(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.number=parseInt(e,10),r}return p(t,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(v.default);return ue.pharmacode=l,ue}var fe={},Lt;function On(){if(Lt)return fe;Lt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.codabar=void 0;var p=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),d=$(),v=f(d);function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){s(this,t),e.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(e="A"+e+"A");var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return p(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),a=0;a<this.data.length;a++)n.push(r[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(v.default);return fe.codabar=l,fe}var le={},$t;function wn(){if($t)return le;$t=1,Object.defineProperty(le,"__esModule",{value:!0}),le.GenericBarcode=void 0;var p=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),d=$(),v=f(d);function f(i){return i&&i.__esModule?i:{default:i}}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function h(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function c(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){c(t,i);function t(e,n){return s(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return p(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(v.default);return le.GenericBarcode=l,le}var Gt;function xn(){if(Gt)return ge;Gt=1,Object.defineProperty(ge,"__esModule",{value:!0});var p=Zr(),d=on(),v=sn(),f=_n(),s=En(),h=bn(),c=On(),l=wn();return ge.default={CODE39:p.CODE39,CODE128:d.CODE128,CODE128A:d.CODE128A,CODE128B:d.CODE128B,CODE128C:d.CODE128C,EAN13:v.EAN13,EAN8:v.EAN8,EAN5:v.EAN5,EAN2:v.EAN2,UPC:v.UPC,UPCE:v.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:h.pharmacode,codabar:c.codabar,GenericBarcode:l.GenericBarcode},ge}var $e={},Ut;function et(){if(Ut)return $e;Ut=1,Object.defineProperty($e,"__esModule",{value:!0});var p=Object.assign||function(d){for(var v=1;v<arguments.length;v++){var f=arguments[v];for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])}return d};return $e.default=function(d,v){return p({},d,v)},$e}var Ge={},Ft;function Sn(){if(Ft)return Ge;Ft=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=p;function p(d){var v=[];function f(s){if(Array.isArray(s))for(var h=0;h<s.length;h++)f(s[h]);else s.text=s.text||"",s.data=s.data||"",v.push(s)}return f(d),v}return Ge}var Ue={},zt;function Rn(){if(zt)return Ue;zt=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=p;function p(d){return d.marginTop=d.marginTop||d.margin,d.marginBottom=d.marginBottom||d.margin,d.marginRight=d.marginRight||d.margin,d.marginLeft=d.marginLeft||d.margin,d}return Ue}var Fe={},ze={},He={},Ht;function fr(){if(Ht)return He;Ht=1,Object.defineProperty(He,"__esModule",{value:!0}),He.default=p;function p(d){var v=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var f in v)v.hasOwnProperty(f)&&(f=v[f],typeof d[f]=="string"&&(d[f]=parseInt(d[f],10)));return typeof d.displayValue=="string"&&(d.displayValue=d.displayValue!="false"),d}return He}var Xe={},Xt;function lr(){if(Xt)return Xe;Xt=1,Object.defineProperty(Xe,"__esModule",{value:!0});var p={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Xe.default=p,Xe}var Vt;function An(){if(Vt)return ze;Vt=1,Object.defineProperty(ze,"__esModule",{value:!0});var p=fr(),d=s(p),v=lr(),f=s(v);function s(c){return c&&c.__esModule?c:{default:c}}function h(c){var l={};for(var i in f.default)f.default.hasOwnProperty(i)&&(c.hasAttribute("jsbarcode-"+i.toLowerCase())&&(l[i]=c.getAttribute("jsbarcode-"+i.toLowerCase())),c.hasAttribute("data-"+i.toLowerCase())&&(l[i]=c.getAttribute("data-"+i.toLowerCase())));return l.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),l=(0,d.default)(l),l}return ze.default=h,ze}var Ve={},Je={},N={},Jt;function cr(){if(Jt)return N;Jt=1,Object.defineProperty(N,"__esModule",{value:!0}),N.getTotalWidthOfEncodings=N.calculateEncodingAttributes=N.getBarcodePadding=N.getEncodingHeight=N.getMaximumHeightOfEncodings=void 0;var p=et(),d=v(p);function v(t){return t&&t.__esModule?t:{default:t}}function f(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function s(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function h(t,e,n){for(var r=0;r<t.length;r++){var a=t[r],o=(0,d.default)(e,a.options),u;o.displayValue?u=i(a.text,o,n):u=0;var y=a.data.length*o.width;a.width=Math.ceil(Math.max(u,y)),a.height=f(a,o),a.barcodePadding=s(u,y,o)}}function c(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function l(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function i(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=r.measureText(t);if(!a)return 0;var o=a.width;return o}return N.getMaximumHeightOfEncodings=l,N.getEncodingHeight=f,N.getBarcodePadding=s,N.calculateEncodingAttributes=h,N.getTotalWidthOfEncodings=c,N}var Kt;function Pn(){if(Kt)return Je;Kt=1,Object.defineProperty(Je,"__esModule",{value:!0});var p=function(){function l(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,t,e){return t&&l(i.prototype,t),e&&l(i,e),i}}(),d=et(),v=s(d),f=cr();function s(l){return l&&l.__esModule?l:{default:l}}function h(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}var c=function(){function l(i,t,e){h(this,l),this.canvas=i,this.encodings=t,this.options=e}return p(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,v.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),n=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var n=this.canvas.getContext("2d"),r=e.data,a;t.textPosition=="top"?a=t.marginTop+t.fontSize+t.textMargin:a=t.marginTop,n.fillStyle=t.lineColor;for(var o=0;o<r.length;o++){var u=o*t.width+e.barcodePadding;r[o]==="1"?n.fillRect(u,a,t.width,t.height):r[o]&&n.fillRect(u,a,t.width,t.height*r[o])}}},{key:"drawCanvasText",value:function(t,e){var n=this.canvas.getContext("2d"),r=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var a,o;t.textPosition=="top"?o=t.marginTop+t.fontSize-t.textMargin:o=t.height+t.textMargin+t.marginTop+t.fontSize,n.font=r,t.textAlign=="left"||e.barcodePadding>0?(a=0,n.textAlign="left"):t.textAlign=="right"?(a=e.width-1,n.textAlign="right"):(a=e.width/2,n.textAlign="center"),n.fillText(e.text,a,o)}}},{key:"moveCanvasDrawing",value:function(t){var e=this.canvas.getContext("2d");e.translate(t.width,0)}},{key:"restoreCanvas",value:function(){var t=this.canvas.getContext("2d");t.restore()}}]),l}();return Je.default=c,Je}var Ke={},Qt;function Tn(){if(Qt)return Ke;Qt=1,Object.defineProperty(Ke,"__esModule",{value:!0});var p=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),d=et(),v=s(d),f=cr();function s(i){return i&&i.__esModule?i:{default:i}}function h(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",l=function(){function i(t,e,n){h(this,i),this.svg=t,this.encodings=e,this.options=n,this.document=n.xmlDocument||document}return p(i,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],a=(0,v.default)(this.options,r.options),o=this.createGroup(e,a.marginTop,this.svg);this.setGroupOptions(o,a),this.drawSvgBarcode(o,a,r),this.drawSVGText(o,a,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),n=(0,f.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,n,r){var a=r.data,o;n.textPosition=="top"?o=n.fontSize+n.textMargin:o=0;for(var u=0,y=0,g=0;g<a.length;g++)y=g*n.width+r.barcodePadding,a[g]==="1"?u++:u>0&&(this.drawRect(y-n.width*u,o,n.width*u,n.height,e),u=0);u>0&&this.drawRect(y-n.width*(u-1),o,n.width*u,n.height,e)}},{key:"drawSVGText",value:function(e,n,r){var a=this.document.createElementNS(c,"text");if(n.displayValue){var o,u;a.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?u=n.fontSize-n.textMargin:u=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(o=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(o=r.width-1,a.setAttribute("text-anchor","end")):(o=r.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",o),a.setAttribute("y",u),a.appendChild(this.document.createTextNode(r.text)),e.appendChild(a)}}},{key:"setSvgAttributes",value:function(e,n){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+n),r.setAttribute("xmlns",c),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,n,r){var a=this.document.createElementNS(c,"g");return a.setAttribute("transform","translate("+e+", "+n+")"),r.appendChild(a),a}},{key:"setGroupOptions",value:function(e,n){e.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(e,n,r,a,o){var u=this.document.createElementNS(c,"rect");return u.setAttribute("x",e),u.setAttribute("y",n),u.setAttribute("width",r),u.setAttribute("height",a),o.appendChild(u),u}}]),i}();return Ke.default=l,Ke}var Qe={},Wt;function Mn(){if(Wt)return Qe;Wt=1,Object.defineProperty(Qe,"__esModule",{value:!0});var p=function(){function f(s,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,h,c){return h&&f(s.prototype,h),c&&f(s,c),s}}();function d(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}var v=function(){function f(s,h,c){d(this,f),this.object=s,this.encodings=h,this.options=c}return p(f,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),f}();return Qe.default=v,Qe}var Yt;function In(){if(Yt)return Ve;Yt=1,Object.defineProperty(Ve,"__esModule",{value:!0});var p=Pn(),d=c(p),v=Tn(),f=c(v),s=Mn(),h=c(s);function c(l){return l&&l.__esModule?l:{default:l}}return Ve.default={CanvasRenderer:d.default,SVGRenderer:f.default,ObjectRenderer:h.default},Ve}var te={},Zt;function dr(){if(Zt)return te;Zt=1,Object.defineProperty(te,"__esModule",{value:!0});function p(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function d(c,l){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:c}function v(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);c.prototype=Object.create(l&&l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(c,l):c.__proto__=l)}var f=function(c){v(l,c);function l(i,t){p(this,l);var e=d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.name="InvalidInputException",e.symbology=i,e.input=t,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return l}(Error),s=function(c){v(l,c);function l(){p(this,l);var i=d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return l}(Error),h=function(c){v(l,c);function l(){p(this,l);var i=d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return l}(Error);return te.InvalidInputException=f,te.InvalidElementException=s,te.NoElementException=h,te}var er;function Dn(){if(er)return Fe;er=1,Object.defineProperty(Fe,"__esModule",{value:!0});var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=An(),v=c(d),f=In(),s=c(f),h=dr();function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(typeof e=="string")return i(e);if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(l(e[r]));return n}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return t(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,v.default)(e),renderer:s.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,v.default)(e),renderer:s.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:s.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":p(e))==="object"&&!e.nodeName)return{element:e,renderer:s.default.ObjectRenderer};throw new h.InvalidElementException}}function i(e){var n=document.querySelectorAll(e);if(n.length!==0){for(var r=[],a=0;a<n.length;a++)r.push(l(n[a]));return r}}function t(e){var n=document.createElement("canvas");return{element:n,options:(0,v.default)(e),renderer:s.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",n.toDataURL())}}}return Fe.default=l,Fe}var We={},tr;function kn(){if(tr)return We;tr=1,Object.defineProperty(We,"__esModule",{value:!0});var p=function(){function f(s,h){for(var c=0;c<h.length;c++){var l=h[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,h,c){return h&&f(s.prototype,h),c&&f(s,c),s}}();function d(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}var v=function(){function f(s){d(this,f),this.api=s}return p(f,[{key:"handleCatch",value:function(h){if(h.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw h.message;else throw h;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(h){try{var c=h.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(l){return this.handleCatch(l),this.api}}}]),f}();return We.default=v,We}var at,rr;function Bn(){if(rr)return at;rr=1;var p=xn(),d=g(p),v=et(),f=g(v),s=Sn(),h=g(s),c=Rn(),l=g(c),i=Dn(),t=g(i),e=fr(),n=g(e),r=kn(),a=g(r),o=dr(),u=lr(),y=g(u);function g(R){return R&&R.__esModule?R:{default:R}}var m=function(){},A=function(M,D,P){var I=new m;if(typeof M>"u")throw Error("No element to render on was provided.");return I._renderProperties=(0,t.default)(M),I._encodings=[],I._options=y.default,I._errorHandler=new a.default(I),typeof D<"u"&&(P=P||{},P.format||(P.format=Y()),I.options(P)[P.format](D,P).render()),I};A.getModule=function(R){return d.default[R]};for(var K in d.default)d.default.hasOwnProperty(K)&&W(d.default,K);function W(R,M){m.prototype[M]=m.prototype[M.toUpperCase()]=m.prototype[M.toLowerCase()]=function(D,P){var I=this;return I._errorHandler.wrapBarcodeCall(function(){P.text=typeof P.text>"u"?void 0:""+P.text;var q=(0,f.default)(I._options,P);q=(0,n.default)(q);var tt=R[M],rt=ve(D,tt,q);return I._encodings.push(rt),I})}}function ve(R,M,D){R=""+R;var P=new M(R,D);if(!P.valid())throw new o.InvalidInputException(P.constructor.name,R);var I=P.encode();I=(0,h.default)(I);for(var q=0;q<I.length;q++)I[q].options=(0,f.default)(D,I[q].options);return I}function Y(){return d.default.CODE128?"CODE128":Object.keys(d.default)[0]}m.prototype.options=function(R){return this._options=(0,f.default)(this._options,R),this},m.prototype.blank=function(R){var M=new Array(R+1).join("0");return this._encodings.push({data:M}),this},m.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var R;for(var M in this._renderProperties){R=this._renderProperties[M];var D=(0,f.default)(this._options,R.options);D.format=="auto"&&(D.format=Y()),this._errorHandler.wrapBarcodeCall(function(){var P=D.value,I=d.default[D.format.toUpperCase()],q=ve(P,I,D);re(R,q,D)})}}},m.prototype.render=function(){if(!this._renderProperties)throw new o.NoElementException;if(Array.isArray(this._renderProperties))for(var R=0;R<this._renderProperties.length;R++)re(this._renderProperties[R],this._encodings,this._options);else re(this._renderProperties,this._encodings,this._options);return this},m.prototype._defaults=y.default;function re(R,M,D){M=(0,h.default)(M);for(var P=0;P<M.length;P++)M[P].options=(0,f.default)(D,M[P].options),(0,l.default)(M[P].options);(0,l.default)(D);var I=R.renderer,q=new I(R.element,M,D);q.render(),R.afterRender&&R.afterRender()}return typeof window<"u"&&(window.JsBarcode=A),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(R,M){var D=[];return jQuery(this).each(function(){D.push(this)}),A(D,R,M)}),at=A,at}var Cn=Bn();const qn=$r(Cn),jn={class:"barcode-generator"},Nn={key:1,class:"text-center text-xs mt-1"},Ln={key:2,class:"text-center text-gray-400 py-2"},$n={__name:"BarcodeGenerator",props:{value:{type:String,default:""},placeholder:{type:String,default:"No barcode available"},format:{type:String,default:"CODE128"},lineColor:{type:String,default:"#000000"},width:{type:Number,default:2},height:{type:Number,default:100},displayValue:{type:Boolean,default:!0},fontSize:{type:Number,default:20},textMargin:{type:Number,default:2},background:{type:String,default:"#ffffff"}},setup(p){const d=p,v=F(null),f=F(d.value),s={format:d.format,lineColor:d.lineColor,width:d.width,height:d.height,displayValue:d.displayValue,fontSize:d.fontSize,textMargin:d.textMargin,background:d.background},h=()=>{if(v.value&&f.value)try{qn(v.value,f.value,s)}catch(c){console.error("Error generating barcode:",c)}};return Sr(()=>d.value,c=>{f.value=c,c&&Ar(()=>{h()})}),ar(()=>{f.value&&h()}),(c,l)=>(z(),H("div",jn,[f.value?(z(),H("svg",{key:0,ref_key:"barcodeElement",ref:v,class:"w-full"},null,512)):J("",!0),s.displayValue&&f.value?(z(),H("div",Nn,L(f.value),1)):J("",!0),f.value?J("",!0):(z(),H("div",Ln,L(p.placeholder),1)),Rr(c.$slots,"default",{},void 0,!0)]))}},nr=xr($n,[["__scopeId","data-v-b56e7603"]]),Gn={class:"w-full flex flex-col items-stretch gap-4"},Un={class:"flex flex-wrap items-end justify-between gap-2"},Fn={key:0,class:"grid gap-4 py-4"},zn={class:"grid grid-cols-2 gap-4"},Hn={key:0,class:"mt-2 p-3 border rounded-md"},Xn={class:"flex flex-col items-center"},Vn={class:"grid grid-cols-3 gap-4"},Jn={key:1},Kn=["src"],Qn={class:"flex justify-end"},Wn={class:"bg-white min-w-600px p-4 rounded-xl"},Yn={class:"flex gap-2"},Zn={key:0,class:"mt-2"},ea={key:1,class:"mt-3 p-3 border rounded bg-gray-50"},ta={class:"flex items-center justify-center"},ra={class:"font-semibold text-red-500"},na={class:"flex justify-end gap-2 mt-4"},Qa={__name:"index",setup(p){const{toast:d}=Pr(),v=F(!1),f=F(!1),s=F(!1),h=F(null),c=F([]),l=F([]),i=F([]),t=F([]),e=Tr({bar_code:null,name:null,generic:null,image:null,unit_id:null,type_id:null,category_id:null}),n=F(!1),r=async()=>{const b=await Z.get("/api/types",{params:{limit:99999}});b.status&&(c.value=b.data.map(_=>({label:_.name,value:_._id})))},a=async()=>{const b=await Z.get("/api/unit",{params:{limit:99999}});b.status&&(l.value=b.data.map(_=>({label:_.name,value:_._id})))},o=async()=>{const b=await Z.get("/api/categories",{params:{limit:99999}});b.status&&(i.value=b.data.map(_=>({label:_.name,value:_._id})))},u=async()=>{await Promise.all([r(),a(),o()])},{data:y,loading:g,pagination:m,fetchData:A,handlePageChange:K}=Gr(async({page:b,limit:_})=>{const k=await Z.get("/api/medicine",{params:{page:b,limit:_}});return console.log("API response data:",k.data),m.total=k.total??0,k.data}),W=Mr(()=>y.value),ve=async()=>{await u(),v.value=!0},Y=b=>b?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0}).format(b):"0 ₫";ar(A);const re=[{accessorKey:"bar_code",header:"Batch ID"},{accessorKey:"name",header:"Name"},{accessorKey:"category.name",header:"Category"},{accessorKey:"type.name",header:"Type"},{accessorKey:"unit.name",header:"Unit"},{accessorKey:"price",header:"Price",cell:({row:b})=>Y(b.original.price)},{accessorKey:"image",header:"Image",cell:({row:b})=>{const _=b.original.image;return _&&ne("img",{src:_,alt:"Medicine Image",class:"w-12 h-12 object-fit"})}},{accessorKey:"actions",header:"Actions",cell:({row:b})=>{const _=b.original;return ne("div",{class:"flex gap-2"},[ne(Fr,{class:"w-4 h-4 text-green-600 cursor-pointer hover:scale-110 transition",onClick:()=>R(_)}),ne(zr,{class:"w-4 h-4 text-blue-600 cursor-pointer hover:scale-110 transition",onClick:()=>M(_)}),ne(Hr,{class:"w-4 h-4 text-red-600 cursor-pointer hover:scale-110 transition",onClick:()=>D(_)})])}}],R=b=>{console.log("Medicine detail data:",b),h.value=b,s.value=!0},M=async b=>{var _,k,O;await u(),h.value=b,Object.assign(e,b),e.category_id=(_=b.category_id)==null?void 0:_._id,e.unit_id=(k=b.unit_id)==null?void 0:k._id,e.type_id=(O=b.type_id)==null?void 0:O._id,t.value=b.image?[{id:"preview-img",name:"image.jpg",status:"finished",url:b.image}]:[],v.value=!0},D=b=>{h.value=b,f.value=!0},P=async()=>{if(!h.value)return;(await Z.delete(`/api/medicine/${h.value._id}`)).status&&(d({title:"Delete success"}),await A()),h.value=null,f.value=!1},I=b=>{console.log("🚀 ~ handleImageUpload ~ response:",b),console.log("Image uploaded",b)},q=b=>{const _=new FileReader;return _.onloadend=()=>{e.image=_.result},_.readAsDataURL(b),!1},tt=b=>new Promise((_,k)=>{const O=new FileReader;O.readAsDataURL(b),O.onload=()=>_(O.result),O.onerror=_e=>k(_e)}),rt=async b=>{const _=b[0].file,k=await tt(_);e.image=k},sr=async()=>{const b=h.value!==null,_=b?`/api/medicine/${h.value._id}`:"/api/medicine",k=b?"put":"post";try{(await Z[k](_,e)).status&&(d({title:b?"Update success":"Add success"}),await A(),v.value=!1)}catch(O){d({title:"Error",description:O.message,type:"error"})}},hr=b=>{e.bar_code=b,n.value=!1},vr=(b,_)=>{const k=window.open("","_blank");if(!k){message.error("Please allow pop-ups to print barcodes");return}let O="<!DOCTYPE html><html><head>";O+=`<title>Print Barcode - ${_}</title>`,O+="<style>",O+="body { font-family: Arial, sans-serif; margin: 0; padding: 20px; text-align: center; }",O+=".barcode-container { margin: 20px auto; max-width: 300px; }",O+=".item-name { font-size: 14px; font-weight: bold; margin-bottom: 5px; }",O+=".price { font-size: 12px; margin-top: 5px; }",O+="@media print { @page { size: 50mm 25mm; margin: 0; } body { width: 100%; height: 100%; padding: 5px; } }",O+="</style>",O+="</head><body>",O+='<div class="barcode-container">',O+=`<div class="item-name">${_}</div>`,O+='<svg id="barcode"></svg>',O+=`<div class="price">${Y(h.value.price)}</div>`,O+="</div>",O+='<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"><\/script>',O+="<script>",O+=`JsBarcode("#barcode", "${b}", { format: "CODE128", width: 2, height: 50, displayValue: true, fontSize: 12 });`,O+="window.onload = function() { setTimeout(function() { window.print(); setTimeout(function() { window.close(); }, 500); }, 500); };",O+="<\/script>",O+="</body></html>",k.document.open(),k.document.write(O),k.document.close()},_r=()=>{const b="893",_=Math.floor(1e4+Math.random()*9e4).toString(),k=Math.floor(1e4+Math.random()*9e4).toString(),O=`${b}${_}${k.substring(0,4)}0`;e.bar_code=O,n.value=!1};return(b,_)=>{const k=Ir,O=Ur,_e=Xr,pe=Kr,X=Jr,nt=Qr,pr=Wr,yr=Yr,gr=Vr,mr=jr,Er=kr,br=qr,Or=Cr,wr=Br;return z(),H("div",Gn,[w("div",Un,[_[20]||(_[20]=w("h2",{class:"text-2xl font-bold tracking-tight"},"Medicine List",-1)),S(k,{onClick:ve},{default:T(()=>_[19]||(_[19]=[G("Add")])),_:1,__:[19]})]),S(Nr,{data:E(W),columns:re,filterKey:"name",page:E(m).page,"onUpdate:page":_[0]||(_[0]=x=>E(m).page=x),onChangePage:E(K),size:E(m).limit,"onUpdate:size":_[1]||(_[1]=x=>E(m).limit=x),total:E(m).total,"onUpdate:total":_[2]||(_[2]=x=>E(m).total=x)},null,8,["data","page","onChangePage","size","total"]),S(_e,{show:E(s),"onUpdate:show":_[5]||(_[5]=x=>ye(s)?s.value=x:null),preset:"card",style:{width:"600px"},title:"Medicine Details"},{footer:T(()=>[w("div",Qn,[S(O,{onClick:_[4]||(_[4]=x=>s.value=!1)},{default:T(()=>_[32]||(_[32]=[G("Close")])),_:1,__:[32]})])]),default:T(()=>{var x,it,ot;return[E(h)?(z(),H("div",Fn,[w("div",zn,[w("div",null,[_[21]||(_[21]=w("h3",{class:"font-semibold mb-1"},"Batch ID:",-1)),w("p",null,L(E(h).bar_code||"-"),1)]),w("div",null,[_[22]||(_[22]=w("h3",{class:"font-semibold mb-1"},"Name:",-1)),w("p",null,L(E(h).name||"-"),1)])]),E(h).bar_code?(z(),H("div",Hn,[_[24]||(_[24]=w("h3",{class:"font-semibold mb-2"},"Barcode:",-1)),w("div",Xn,[S(nr,{value:E(h).bar_code,height:80,width:2,"display-value":!0,class:"w-full max-w-xs mb-2"},null,8,["value"]),S(O,{size:"small",onClick:_[3]||(_[3]=aa=>vr(E(h).bar_code,E(h).name))},{default:T(()=>_[23]||(_[23]=[G(" Print Barcode ")])),_:1,__:[23]})])])):J("",!0),w("div",null,[_[25]||(_[25]=w("h3",{class:"font-semibold mb-1"},"Generic Name:",-1)),w("p",null,L(E(h).generic||"-"),1)]),w("div",null,[_[26]||(_[26]=w("h3",{class:"font-semibold mb-1"},"Description:",-1)),w("p",null,L(E(h).description||"-"),1)]),w("div",Vn,[w("div",null,[_[27]||(_[27]=w("h3",{class:"font-semibold mb-1"},"Category:",-1)),w("p",null,L(((x=E(h).category)==null?void 0:x.name)||"-"),1)]),w("div",null,[_[28]||(_[28]=w("h3",{class:"font-semibold mb-1"},"Type:",-1)),w("p",null,L(((it=E(h).type)==null?void 0:it.name)||"-"),1)]),w("div",null,[_[29]||(_[29]=w("h3",{class:"font-semibold mb-1"},"Unit:",-1)),w("p",null,L(((ot=E(h).unit)==null?void 0:ot.name)||"-"),1)])]),w("div",null,[_[30]||(_[30]=w("h3",{class:"font-semibold mb-1"},"Price:",-1)),w("p",null,L(Y(E(h).price)),1)]),E(h).image?(z(),H("div",Jn,[_[31]||(_[31]=w("h3",{class:"font-semibold mb-1"},"Image:",-1)),w("img",{src:E(h).image,alt:"Medicine Image",class:"max-h-64 object-contain my-2"},null,8,Kn)])):J("",!0)])):J("",!0)]}),_:1},8,["show"]),S(_e,{show:E(v),"onUpdate:show":_[16]||(_[16]=x=>ye(v)?v.value=x:null),"close-on-esc":""},{default:T(()=>[w("div",Wn,[S(gr,{ref:"formRef",model:E(e)},{default:T(()=>[S(X,{label:"Bar Code/QR Code",path:"bar_code"},{default:T(()=>[w("div",Yn,[S(pe,{value:E(e).bar_code,"onUpdate:value":_[6]||(_[6]=x=>E(e).bar_code=x),placeholder:"Scan or enter barcode",class:"flex-1"},null,8,["value"]),S(O,{onClick:_[7]||(_[7]=x=>n.value=!E(n)),size:"small"},{default:T(()=>[G(L(E(n)?"Hide Scanner":"Scan Barcode"),1)]),_:1}),E(e).bar_code?J("",!0):(z(),Dr(O,{key:0,onClick:_r,size:"small",type:"info"},{default:T(()=>_[33]||(_[33]=[G(" Generate ")])),_:1,__:[33]}))]),E(n)?(z(),H("div",Zn,[S(Lr,{onDecode:hr,title:"Scan Product Barcode"})])):J("",!0),E(e).bar_code?(z(),H("div",ea,[_[34]||(_[34]=w("div",{class:"text-xs text-gray-500 mb-1"},"Barcode Preview:",-1)),S(nr,{value:E(e).bar_code,height:60,width:1.5,class:"w-full"},null,8,["value"])])):J("",!0)]),_:1}),S(X,{label:"Generic Name",path:"generic"},{default:T(()=>[S(pe,{value:E(e).generic,"onUpdate:value":_[8]||(_[8]=x=>E(e).generic=x),placeholder:"Input Generic Name"},null,8,["value"])]),_:1}),S(X,{label:"Name",path:"name"},{default:T(()=>[S(pe,{value:E(e).name,"onUpdate:value":_[9]||(_[9]=x=>E(e).name=x),placeholder:"Input Name"},null,8,["value"])]),_:1}),S(X,{label:"Category",path:"category_id"},{default:T(()=>[S(nt,{clearable:"",filterable:"",fallbackOption:!1,value:E(e).category_id,"onUpdate:value":_[10]||(_[10]=x=>E(e).category_id=x),options:E(i),placeholder:"Select Unit ..."},null,8,["value","options"])]),_:1}),S(X,{label:"Unit",path:"unit_id"},{default:T(()=>[S(nt,{clearable:"",filterable:"",fallbackOption:!1,value:E(e).unit_id,"onUpdate:value":_[11]||(_[11]=x=>E(e).unit_id=x),options:E(l),placeholder:"Select Unit ..."},null,8,["value","options"])]),_:1}),S(X,{label:"Type",path:"type_id"},{default:T(()=>[S(nt,{clearable:"",filterable:"",fallbackOption:!1,value:E(e).type_id,"onUpdate:value":_[12]||(_[12]=x=>E(e).type_id=x),options:E(c),placeholder:"Select type ..."},null,8,["value","options"])]),_:1}),S(X,{label:"Description",path:"description"},{default:T(()=>[S(pe,{value:E(e).description,"onUpdate:value":_[13]||(_[13]=x=>E(e).description=x),placeholder:"Input description ..."},null,8,["value"])]),_:1}),S(X,{label:"Price",path:"price"},{default:T(()=>[S(pr,{class:"w-full",clearable:"",filterable:"",value:E(e).price,"onUpdate:value":_[14]||(_[14]=x=>E(e).price=x),precision:0,min:0,placeholder:"Input price ..."},null,8,["value"])]),_:1}),S(X,{label:"Image",path:"image"},{default:T(()=>[S(yr,{"show-file-list":!0,"onUpdate:fileList":rt,"default-file-list":E(t),"onUpdate:defaultFileList":_[15]||(_[15]=x=>ye(t)?t.value=x:null),"list-type":"image-card",max:1,"on-success":I,"before-upload":q},null,8,["default-file-list"])]),_:1}),w("div",ta,[S(O,{onClick:sr},{default:T(()=>_[35]||(_[35]=[G(" Save")])),_:1,__:[35]})])]),_:1},8,["model"])])]),_:1},8,["show"]),S(wr,{open:E(f),"onUpdate:open":_[18]||(_[18]=x=>ye(f)?f.value=x:null)},{default:T(()=>[S(Or,null,{default:T(()=>[S(br,null,{default:T(()=>[S(mr,null,{default:T(()=>_[36]||(_[36]=[G("Confirm delete")])),_:1,__:[36]}),S(Er,null,{default:T(()=>{var x;return[_[37]||(_[37]=G(" Are you sure you want to delete ")),w("span",ra,L((x=E(h))==null?void 0:x.name),1),_[38]||(_[38]=G(" ? "))]}),_:1,__:[37,38]})]),_:1}),w("div",na,[S(k,{variant:"ghost",onClick:_[17]||(_[17]=x=>f.value=!1)},{default:T(()=>_[39]||(_[39]=[G("Cancel")])),_:1,__:[39]}),S(k,{variant:"destructive",onClick:P},{default:T(()=>_[40]||(_[40]=[G("Delete")])),_:1,__:[40]})])]),_:1})]),_:1},8,["open"])])}}};export{Qa as default};
