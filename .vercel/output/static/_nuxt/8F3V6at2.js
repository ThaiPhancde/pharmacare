import{c as T,u as D,a as j}from"./B1BtpM6Q.js";import{bS as I,d as B,r as f,U as M,b as v,o as u,w as _,g as K,v as P,p as C,u as s,ay as L,bT as w,a as A,i as O,h as b,F as z,j as U,l as Y,m as G}from"./CKxg9VfS.js";import{_ as H}from"./BPEFIfMV.js";import{_ as J,u as Q,a as W}from"./CqMkjHLC.js";import{i as V}from"./CHIgUVhi.js";const re=[" ","Enter","ArrowUp","ArrowDown"],ie=[" ","Enter"],ue=10;function de(e,a,t){return e===void 0?!1:Array.isArray(e)?e.some(l=>E(l,a,t)):E(e,a,t)}function E(e,a,t){return e===void 0||a===void 0?!1:typeof e=="string"?e===a:typeof t=="function"?t(e,a):typeof t=="string"?(e==null?void 0:e[t])===(a==null?void 0:a[t]):I(e,a)}function pe(e){return e==null||e===""||Array.isArray(e)&&e.length===0}const X=B({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(e){const a=e,t=f();return M(()=>a.value,(l,r)=>{const d=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&y&&t.value){const n=new Event("change",{bubbles:!0});y.call(t.value,l),t.value.dispatchEvent(n)}}),(l,r)=>(u(),v(s(J),{"as-child":""},{default:_(()=>[K("select",P({ref_key:"selectElement",ref:t},a),[C(l.$slots,"default")],16)]),_:3}))}}),Z={key:0,value:""},[ce,ee]=T("SelectRoot"),te=B({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:a}){const t=e,l=a,{required:r,disabled:d,multiple:i,dir:y}=L(t),n=w(t,"modelValue",l,{defaultValue:t.defaultValue??(i.value?[]:void 0),passive:t.modelValue===void 0,deep:!0}),h=w(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),g=f(),S=f(),R=f({x:0,y:0}),N=A(()=>{var o;return i.value&&Array.isArray(n.value)?((o=n.value)==null?void 0:o.length)===0:V(n.value)});Q({isProvider:!0});const k=D(y),q=W(g),p=f(new Set),x=A(()=>Array.from(p.value).map(o=>o.value).join(";"));function $(o){if(i.value){const c=Array.isArray(n.value)?[...n.value]:[],m=c.findIndex(F=>E(F,o,t.by));m===-1?c.push(o):c.splice(m,1),n.value=[...c]}else n.value=o}return ee({triggerElement:g,onTriggerChange:o=>{g.value=o},valueElement:S,onValueElementChange:o=>{S.value=o},contentId:"",modelValue:n,onValueChange:$,by:t.by,open:h,multiple:i,required:r,onOpenChange:o=>{h.value=o},dir:k,triggerPointerDownPosRef:R,disabled:d,isEmptyModelValue:N,optionsSet:p,onOptionAdd:o=>p.value.add(o),onOptionRemove:o=>p.value.delete(o)}),(o,c)=>(u(),v(s(H),null,{default:_(()=>[C(o.$slots,"default",{modelValue:s(n),open:s(h)}),s(q)?(u(),v(X,{key:x.value,"aria-hidden":"true",tabindex:"-1",multiple:s(i),required:s(r),name:o.name,autocomplete:o.autocomplete,disabled:s(d),value:s(n)},{default:_(()=>[s(V)(s(n))?(u(),b("option",Z)):O("",!0),(u(!0),b(z,null,U(Array.from(p.value),m=>(u(),b("option",P({key:m.value??"",ref_for:!0},m),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):O("",!0)]),_:3}))}}),me=B({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(e,{emit:a}){const r=j(e,a);return(d,i)=>(u(),v(s(te),Y(G(s(r))),{default:_(()=>[C(d.$slots,"default")]),_:3},16))}});export{ue as C,re as O,ie as S,me as _,ce as i,ee as p,pe as s,de as v};
