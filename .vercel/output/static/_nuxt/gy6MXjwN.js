import{r as w,dx as C,U as L,aw as N,ba as p,k as O,F as z,cp as R,d as V,a0 as x,br as ee,a as te,$ as ne,bf as re,ad as ie,aX as ae,bq as F,eQ as D,f8 as U,eU as j,b6 as se,a2 as b,a3 as ue}from"./CKxg9VfS.js";import{o as h,a as E,g as oe}from"./ChAwXecA.js";function ce(e){const t=w(!!e.value);if(t.value)return C(t);const r=L(e,n=>{n&&(t.value=!0,r())});return C(t)}function Te(){return N()!==null}const ze=typeof window<"u",Ze=p("n-drawer-body"),Ae=p("n-modal-body"),ke=p("n-modal-provider"),Ce=p("n-modal"),Be=p("n-popover-body");function B(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);return n()}function T(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(O(String(n)));return}if(Array.isArray(n)){T(n,t,r);return}if(n.type===z){if(n.children===null)return;Array.isArray(n.children)&&T(n.children,t,r)}else n.type!==R&&r.push(n)}}),r}function Pe(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);const i=T(n());if(i.length===1)return i[0];throw new Error(`[vueuc/${e}]: slot[${r}] should have exactly one child.`)}const c="@@coContext",Me={mounted(e,{value:t,modifiers:r}){e[c]={handler:void 0},typeof t=="function"&&(e[c].handler=t,E("clickoutside",e,t,{capture:r.capture}))},updated(e,{value:t,modifiers:r}){const n=e[c];typeof t=="function"?n.handler?n.handler!==t&&(h("clickoutside",e,n.handler,{capture:r.capture}),n.handler=t,E("clickoutside",e,t,{capture:r.capture})):(e[c].handler=t,E("clickoutside",e,t,{capture:r.capture})):n.handler&&(h("clickoutside",e,n.handler,{capture:r.capture}),n.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:r}=e[c];r&&h("clickoutside",e,r,{capture:t.capture}),e[c].handler=void 0}};function le(e,t){console.error(`[vdirs/${e}]: ${t}`)}class fe{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,r){const{elementZIndex:n}=this;if(r!==void 0){t.style.zIndex=`${r}`,n.delete(t);return}const{nextZIndex:i}=this;n.has(t)&&n.get(t)+1===this.nextZIndex||(t.style.zIndex=`${i}`,n.set(t,i),this.nextZIndex=i+1,this.squashState())}unregister(t,r){const{elementZIndex:n}=this;n.has(t)?n.delete(t):r===void 0&&le("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((r,n)=>r[1]-n[1]),this.nextZIndex=2e3,t.forEach(r=>{const n=r[0],i=this.nextZIndex++;`${i}`!==n.style.zIndex&&(n.style.zIndex=`${i}`)})}}const v=new fe,l="@@ziContext",Ke={mounted(e,t){const{value:r={}}=t,{zIndex:n,enabled:i}=r;e[l]={enabled:!!i,initialized:!1},i&&(v.ensureZIndex(e,n),e[l].initialized=!0)},updated(e,t){const{value:r={}}=t,{zIndex:n,enabled:i}=r,u=e[l].enabled;i&&!u&&(v.ensureZIndex(e,n),e[l].initialized=!0),e[l].enabled=!!i},unmounted(e,t){if(!e[l].initialized)return;const{value:r={}}=t,{zIndex:n}=r;v.unregister(e,n)}};function P(e){return typeof e=="string"?document.querySelector(e):e()}const Le=V({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:ce(ne(e,"show")),mergedTo:te(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?B("lazy-teleport",this.$slots):x(ee,{disabled:this.disabled,to:this.mergedTo},B("lazy-teleport",this.$slots)):null}});function q(e){return e instanceof HTMLElement}function _(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes[t];if(q(r)&&(H(r)||_(r)))return!0}return!1}function X(e){for(let t=e.childNodes.length-1;t>=0;t--){const r=e.childNodes[t];if(q(r)&&(H(r)||X(r)))return!0}return!1}function H(e){if(!de(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function de(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let d=[];const Oe=V({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=re(),r=w(null),n=w(null);let i=!1,u=!1;const f=typeof document>"u"?null:document.activeElement;function y(){return d[d.length-1]===t}function $(a){var s;a.code==="Escape"&&y()&&((s=e.onEsc)===null||s===void 0||s.call(e,a))}ie(()=>{L(()=>e.active,a=>{a?(G(),E("keydown",document,$)):(h("keydown",document,$),i&&k())},{immediate:!0})}),ae(()=>{h("keydown",document,$),i&&k()});function A(a){if(!u&&y()){const s=S();if(s===null||s.contains(oe(a)))return;o("first")}}function S(){const a=r.value;if(a===null)return null;let s=a;for(;s=s.nextSibling,!(s===null||s instanceof Element&&s.tagName==="DIV"););return s}function G(){var a;if(!e.disabled){if(d.push(t),e.autoFocus){const{initialFocusTo:s}=e;s===void 0?o("first"):(a=P(s))===null||a===void 0||a.focus({preventScroll:!0})}i=!0,document.addEventListener("focus",A,!0)}}function k(){var a;if(e.disabled||(document.removeEventListener("focus",A,!0),d=d.filter(m=>m!==t),y()))return;const{finalFocusTo:s}=e;s!==void 0?(a=P(s))===null||a===void 0||a.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&f instanceof HTMLElement&&(u=!0,f.focus({preventScroll:!0}),u=!1)}function o(a){if(y()&&e.active){const s=r.value,m=n.value;if(s!==null&&m!==null){const g=S();if(g==null||g===m){u=!0,s.focus({preventScroll:!0}),u=!1;return}u=!0;const Y=a==="first"?_(g):X(g);u=!1,Y||(u=!0,s.focus({preventScroll:!0}),u=!1)}}}function Q(a){if(u)return;const s=S();s!==null&&(a.relatedTarget!==null&&s.contains(a.relatedTarget)?o("last"):o("first"))}function J(a){u||(a.relatedTarget!==null&&a.relatedTarget===r.value?o("last"):o("first"))}return{focusableStartRef:r,focusableEndRef:n,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:Q,handleEndFocus:J}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:r}=this;return x(z,null,[x("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:r,onFocus:this.handleStartFocus}),e(),x("div",{"aria-hidden":"true",style:r,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}}),W=new WeakSet;function Re(e){W.add(e)}function Ve(e){return!W.has(e)}function I(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(O(String(n)));return}if(Array.isArray(n)){I(n,t,r);return}if(n.type===z){if(n.children===null)return;Array.isArray(n.children)&&I(n.children,t,r)}else{if(n.type===R&&t)return;r.push(n)}}}),r}function De(e,t="default",r=void 0){const n=e[t];if(!n)return F("getFirstSlotVNode",`slot[${t}] is empty`),null;const i=I(n(r));return i.length===1?i[0]:(F("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function Ue(e,t,r){if(!t)return null;const n=I(t(r));return n.length===1?n[0]:(F("getFirstSlotVNode",`slot[${e}] should have exactly one child`),null)}function je(e,t=[],r){const n={};return t.forEach(i=>{n[i]=e[i]}),Object.assign(n,r)}var he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/;function ye(e,t){if(D(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||U(e)?!0:pe.test(e)||!he.test(e)||t!=null&&e in Object(t)}var me="Expected a function";function Z(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(me);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],u=r.cache;if(u.has(i))return u.get(i);var f=e.apply(this,n);return r.cache=u.set(i,f)||u,f};return r.cache=new(Z.Cache||j),r}Z.Cache=j;var ge=500;function be(e){var t=Z(e,function(n){return r.size===ge&&r.clear(),n}),r=t.cache;return t}var xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/\\(\\)?/g,Ie=be(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xe,function(r,n,i,u){t.push(i?u.replace(Ee,"$1"):n||r)}),t});function $e(e,t){return D(e)?e:ye(e,t)?[e]:Ie(se(e))}function Se(e){if(typeof e=="string"||U(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ve(e,t){t=$e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Se(t[r++])];return r&&r==n?e:void 0}function qe(e,t,r){var n=e==null?void 0:ve(e,t);return n===void 0?r:n}const{cubicBezierEaseIn:M,cubicBezierEaseOut:K}=ue;function _e({transformOrigin:e="inherit",duration:t=".2s",enterScale:r=".9",originalTransform:n="",originalTransition:i=""}={}){return[b("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${M}, transform ${t} ${M} ${i&&`,${i}`}`}),b("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${K}, transform ${t} ${K} ${i&&`,${i}`}`}),b("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${n} scale(${r})`}),b("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${n} scale(1)`})]}export{Oe as F,Le as L,Ae as a,Pe as b,Me as c,Ze as d,$e as e,_e as f,B as g,ye as h,ze as i,qe as j,ve as k,De as l,Re as m,je as n,Te as o,Be as p,Ue as q,Ce as r,Ve as s,Se as t,ke as u,I as v,Ke as z};
